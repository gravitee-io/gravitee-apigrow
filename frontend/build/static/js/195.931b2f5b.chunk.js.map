{"version":3,"sources":["Components/mindmap/Node.js","Components/mindmap/ContextMenu.js","Components/mindmap/Mindmap.js","Components/mindmap/Animated.js","Components/mindmap/Tree.js","Components/mindmap/Checkbox.js","styles/EditNodeMenu.css.js","Components/mindmap/EditNodeMenu.js","Components/base/MindmapView.js","api/ModelAPI.js","helpers/tree_helper.js","api/SwaggerAPI.js","Components/mindmap/Link.js","styles/MindmapView.css.js","Components/mindmap/LoaderIndicator.js","styles/LivePreview.css.js","Components/mindmap/LivePreview.js"],"names":["Node","plusSignHandler","event","stopPropagation","props","addNewChildNode","nodeKey","mainNodeLeftPlusSignHandler","onDragStart","name","onDragStopRight","onDragStop","onDragStopLeft","onDragStopAbove","onDragStopBelow","nodeTextLength","length","handleLeftClick","onNodeSelect","node","data","handleRightClick","e","openContextMenu","this","parent","className","width","height","y","currentNode","keyProp","x","textAnchor","dy","textDecoration","label","type","isArray","isSubPath","direction","textProps","fontStyle","fill","fontWeight","abstract","r","isDraggingMoving","cy","cx","onMouseUp","leftPlusSign","onClick","gProps","transform","onContextMenu","onMouseDown","createNode","Component","ContextMenu","id","data-action","insert","open","copy","cut","paste","delete","PureComponent","Mindmap","openNodeContextMenu","preventDefault","nodeContext","setState","showContext","contextContainerStyle","display","top","clientY","left","clientX","closeContextMenu","onWheelScroll","zoom","state","deltaY","nodeName","isPaning","isDragging","draggedNodeKey","moveNode","onPanStart","startX","changedTouches","startY","onPanMove","panX","panY","onPanEnd","keydown","onKeyPress","prevProps","isFocus","mindmap","focus","tabIndex","onFocus","ref","style","viewBox","minX","minY","maxX","nodeWidth","maxY","onMouseMove","onMouseLeave","onWheel","pointerEvents","links","map","link","Link","colorScheme","target","charCodeAt","branchColor","isDottedLine","notImplemented","key","source","x1","x2","y1","y2","pathProps","linkData","nodes","filter","n","labelProp","Width","Animated","animated","initialX","initialY","l","animate","initialState","newState","addedNodes","n1","every","n2","areNodesSame","base","old","getClosestAncestor","new","changedNodes","some","find","removedNodes","addedLinks","l1","l2","areLinksSame","changedLinks","removedLinks","concat","stateWithNode","stateWithoutNode","oldParent","newParent","getChildren","c","nextProps","clearInterval","animation","counter","animationContext","getAnimationContext","setInterval","steps","calculateNewState","duration","a","b","interval","calculateNodePosition","calculateLinkPosition","start","end","calculateNewValue","easing","defaultProps","easeQuadOut","children","margins","bottom","right","Tree","previousStates","toCopyNodeKey","toCutNodeKey","fullScreen","swaggerHtml","keyHandler","which","f2Key","downKeyHandler","upKeyHandler","leftKeyHandler","rightKeyHandler","ctrlKey","boldHandler","copyHandler","cutHandler","pasteHandler","metaKey","onUndo","enterKeyHandler","insertKeyHandler","deleteKeyHandler","onLetterDown","updateChildrenParentLinks","newParentKey","forEach","child","destinationNodeKey","isAncestorOf","allData","cloneTree","nodeWhereToAdd","searchTreeByKey","nodeToDelete","parentNode","splice","findIndex","v","newNode","push","onTreeUpdate","dataUpdated","destIndex","getTreeDepthAndCardinality","depth","cardinality","maxDepth","getTreeTextWidth","textWidth","maxLength","lengths","Math","max","propagateDirection","dir","propagateShiftLeft","horizontalShift","nodeShift","propagateShiftRight","nodePlacementAdaptation","treeMaxLength","uncle","selectedNodeKey","openReferenceHandler","ModelAPI","getModel","referenceId","then","populatedModel","freezeTag","history","pathname","modelId","model","nodeToCopy","Object","keys","_","isString","indexOf","replace","onToolsMenuChange","indexWhereToAdd","newNodeKey","uniqid","example","description","queryParams","queryable","paginable","isInPostResponse","patchable","calculated","selectedNode","indexWhereToGo","goToParent","goToFirstChild","contentHeight","ld","contentWidth","leftData","clone","rootLeft","tree","size","hierarchy","nodesLeft","descendants","linksLeft","rightData","rd","rootRight","nodesRight","linksRight","dh","nl","ll","shift","centerX","centerY","onSaveTree","saveTree","theme","createMuiTheme","overrides","MuiIconButton","root","fontSize","useStyles","makeStyles","backgroundColor","icon","borderRadius","border","customcolor","color","background","boxShadow","checkedIcon","StyledCheckbox","classes","ThemeProvider","Checkbox","clsx","CustomizedCheckbox","margin","styles","editContainer","overflowY","overflowX","padding","minWidth","zIndex","fieldContainer","formControl","formLabel","ExpansionPanelDetails","hideEditIcon","marginBottom","hideIconContainer","justifyContent","referencePaper","ToolsMenu","models","onCheckBoxChange","checked","onInversedCheckBoxChange","onVerbButtonClick","verbs","onNodeTypeChange","value","onTextFieldChange","onDropDownChange","onBranchColorChange","hex","onSubpathCheckboxChange","handleChange","getModels","organization","pageSize","nameInput","onEditClick","xDescription","verb","nodeHasOperationAncestor","hasOperationAncestor","nodeHasAncestorWithPost","hasAncestorWithPost","IconButton","Tooltip","title","placement","TextField","disabled","InputLabelProps","shrink","variant","onChange","onKeyDown","keyCode","onEnterDown","inputRef","input","multiline","autoComplete","FormControl","InputLabel","InputLabelRef","htmlFor","Select","native","OutlinedInput","labelWidth","Paper","Typography","triangle","onChangeComplete","ExpansionPanel","ExpansionPanelSummary","expandIcon","aria-controls","heading","component","FormLabel","FormGroup","includes","withStyles","MindmapView","saved","canBeSaved","refinerRules","livePreviewSwagger","isLivePreviewOpen","isEditMenuOpen","location","organizationId","intervalId","requestLivePreview","setModelLock","isLock","catch","err","response","status","Notification","error","message","saveModel","isExitSave","isPublic","isLocked","hasOwnProperty","updateTree","onPreviewClick","onPreviewClose","pop","setFocus","trackPromise","SwaggerAPI","result","preview","handleClass","customHandle","borderClass","customResizeBorder","position","maxWidth","LivePreview","swagger","treeWidth","svgContainer","Slide","in","mountOnEnter","unmountOnExit","EditNodeMenu","context","user","organizations","newModel","handleNewModelWarningOpen","showIcon","showIconEdit","contextType","UserContext","withRouter","teamId","params","execute","fileType","tags","rules","ruleId","rule","BaseAPI","startnode","stack","ofNodeKey","ofNode","parentNodeKey","generateId","newTree","swaggerName","parentId","updateSubNodes","parentNodeToUpdate","changeFunction","updateParentNodes","childNode","changeFunctionParam","nodeToUpdate","tmpNode","jsonstring","d","flat","red","green","blue","stroke","flexGrow","flexFlow","treeContainer","previewButton","marginLeft","sideBarContainer","editButton","toggleContainer","tabButton","optionMenu","headband","headbandFrozen","headbandReadOnly","exportMenu","editIcon","modalContainer","textAlign","buttonSaveTeam","cursor","overflow","alignItems","alignContent","customFrozenMindmapZoom","marginTop","marginRight","showIconFrozenTree","loaderContainer","swaggerSpinner","promiseInProgress","usePromiseTracker","useState","promise","setPromise","setTimeout","timeout","spinner","hideIcon","spec","docExpansion","showExtensions"],"mappings":"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","file":"static/js/195.931b2f5b.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nconst propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  keyProp: PropTypes.string.isRequired,\n  labelProp: PropTypes.string.isRequired,\n  nodeKey: PropTypes.string.isRequired\n};\n\nexport default class Node extends Component {\n  plusSignHandler = event => {\n    event.stopPropagation(); // empche la selection du noeud qui porte le signe plus\n    this.props.addNewChildNode(this.props.nodeKey);\n    return event;\n  };\n\n  mainNodeLeftPlusSignHandler = event => {\n    // spcialement pour le noeud principal, signe plus  gauche\n    event.stopPropagation(); // empche la selection du noeud qui porte le signe plus\n    this.props.addNewChildNode(this.props.nodeKey, 'left');\n    return event;\n  };\n\n  onDragStart = event => {\n    event.stopPropagation(); // empche le paning\n    this.props.onDragStart(this.props.name, this.props.nodeKey); // prvient le mindmap de quel noeud est dragg\n    return event;\n  };\n\n  onDragStopRight = event => {\n    event.stopPropagation(); // empche le paning\n    this.props.onDragStop(this.props.nodeKey, 'right'); // informe le mindmap de l o le noeud est dropp\n    return event;\n  };\n\n  onDragStopLeft = event => {\n    event.stopPropagation(); // empche le paning\n    this.props.onDragStop(this.props.nodeKey, 'left'); // informe le mindmap de l o le noeud est dropp\n    return event;\n  };\n\n  onDragStopAbove = event => {\n    event.stopPropagation(); // empche le paning\n    this.props.onDragStop(this.props.nodeKey, 'above'); // informe le mindmap de l o le noeud est dropp\n    return event;\n  };\n\n  onDragStopBelow = event => {\n    event.stopPropagation(); // empche le paning\n    this.props.onDragStop(this.props.nodeKey, 'below'); // informe le mindmap de l o le noeud est dropp\n    return event;\n  };\n\n  nodeTextLength = () => {\n    return this.props.name.length * 9;\n  };\n\n  handleLeftClick = () => {\n    this.props.onNodeSelect(this.props.node.data);\n  };\n\n  handleRightClick = e => {\n    this.props.onNodeSelect(this.props.node.data);\n    this.props.openContextMenu(e);\n  };\n\n  createNode() {\n    if (!this.props.parent) {\n      // we are in main node\n      return (\n        <svg\n          className=\"svg-rect\"\n          width={this.nodeTextLength() + 6}\n          height=\"30\"\n          y=\"-10\"\n        >\n          <rect\n            className={\n              this.props.currentNode.nodeKey === this.props[this.props.keyProp]\n                ? 'selected-node'\n                : 'main-node'\n            }\n            width={this.nodeTextLength() + 6}\n            height={30}\n          />\n          <text\n            x=\"50%\"\n            y=\"50%\"\n            textAnchor=\"middle\"\n            dy=\".3em\"\n            textDecoration=\"underline\"\n            className=\"node\"\n          >\n            /{this.props.name}\n          </text>\n        </svg>\n      );\n    }\n    const label =\n      (this.props.type === 'reference' && this.props.isArray ? '[' : '') +\n      (this.props.type === 'reference' ? '#' : '') +\n      (this.props.isSubPath === true ? '/' : '') +\n      (this.props.type === 'array' ? '[' : '') +\n      (this.props.type === 'operation' ? '_' : '') +\n      this.props.name +\n      (this.props.type === 'array' ? ']' : '') +\n      (this.props.type === 'reference' && this.props.isArray ? ']' : '');\n    return (\n      <g>\n        <rect\n          className={\n            this.nodeTextLength() === 0 ? 'error-node' : 'noerror-node'\n          }\n          width={25}\n          height={20}\n          y=\"-17\"\n          x={this.props.direction === 'left' ? -25 : 0}\n        />\n        <rect\n          className={\n            this.props.currentNode.nodeKey === this.props[this.props.keyProp]\n              ? 'selected-node'\n              : 'unselected-node'\n          }\n          width={this.nodeTextLength()}\n          height={20}\n          y=\"-17\"\n          x={this.props.direction === 'left' ? -this.nodeTextLength() : 0}\n        />\n        <text\n          textAnchor={this.props.direction === 'right' ? 'start' : 'end'}\n          {...this.props.textProps}\n          className=\"node\"\n          fontStyle={this.props.type === 'operation' ? 'italic' : 'normal'}\n          fill={this.props.type === 'operation' ? 'CornflowerBlue' : 'black'}\n          textDecoration={this.props.isSubPath === true ? 'underline' : ''}\n          fontWeight={this.props.abstract === true ? 'bold' : ''}\n        >\n          {label}\n        </text>\n        <circle\n          r=\"10\"\n          className={this.props.isDraggingMoving ? 'active' : 'inactive'}\n          cy=\"-13\"\n          cx={\n            this.props.direction === 'left'\n              ? -this.nodeTextLength() / 2\n              : this.nodeTextLength() / 2\n          }\n          onMouseUp={this.onDragStopAbove}\n        />\n        <circle\n          r=\"10\"\n          className={this.props.isDraggingMoving ? 'active' : 'inactive'}\n          cy=\"7\"\n          cx={\n            this.props.direction === 'left'\n              ? -this.nodeTextLength() / 2\n              : this.nodeTextLength() / 2\n          }\n          onMouseUp={this.onDragStopBelow}\n        />\n      </g>\n    );\n  }\n\n  render() {\n    let leftPlusSign;\n    if (this.props.parent === null) {\n      leftPlusSign = (\n        <g onClick={this.mainNodeLeftPlusSignHandler}>\n          <rect className=\"plussign\" width=\"11\" height=\"11\" y=\"0\" x=\"-8\" />\n          <text className=\"plussign\" y=\"11\" x=\"-7\">\n            +\n          </text>\n        </g>\n      );\n    }\n\n    return (\n      <g\n        {...this.props.gProps}\n        transform={`translate(${this.props.y}, ${this.props.x - 5})`}\n        onContextMenu={e => this.handleRightClick(e)}\n        onMouseDown={this.props.parent !== null ? this.onDragStart : null}\n      >\n        <g className=\"allnodes\" onClick={this.handleLeftClick}>\n          {this.createNode()}\n          <circle\n            r=\"10\"\n            className={\n              this.props.isDraggingMoving &&\n              (this.props.direction === 'left' || this.props.parent === null)\n                ? 'active'\n                : 'inactive'\n            }\n            cy=\"-3\"\n            cx={\n              -20 -\n              (this.props.direction === 'left' ? this.nodeTextLength() : 0)\n            }\n            onMouseUp={this.onDragStopLeft}\n          />\n          <circle\n            r=\"10\"\n            className={\n              this.props.isDraggingMoving && this.props.direction === 'right'\n                ? 'active'\n                : 'inactive'\n            }\n            cy=\"-3\"\n            cx={\n              (this.props.direction === 'right' ? this.nodeTextLength() : 0) +\n              20\n            }\n            onMouseUp={this.onDragStopRight}\n          />\n          {leftPlusSign}\n          {this.props.type !== 'reference' && (\n            <g onClick={this.plusSignHandler}>\n              <rect\n                className={\n                  this.props.isDraggingMoving ? 'plussign-dragging' : 'plussign'\n                }\n                width=\"11\"\n                height=\"11\"\n                y=\"0\"\n                x={\n                  this.props.direction === 'right'\n                    ? this.nodeTextLength()\n                    : -8 - this.nodeTextLength()\n                }\n              />\n              <text\n                className={\n                  this.props.isDraggingMoving ? 'plussign-dragging' : 'plussign'\n                }\n                y=\"11\"\n                x={\n                  this.props.direction === 'right'\n                    ? 1 + this.nodeTextLength()\n                    : -7 - this.nodeTextLength()\n                }\n              >\n                +\n              </text>\n            </g>\n          )}\n        </g>\n      </g>\n    );\n  }\n}\n\nNode.propTypes = propTypes;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport React, { PureComponent } from 'react';\n\nexport default class ContextMenu extends PureComponent {\n  render() {\n    return (\n      <ul className=\"custom-ul\" id=\"container-menu\">\n        {(this.props.currentNode.type !== 'reference' && (\n          <li data-action=\"addChild\" onClick={this.props.insert}>\n            Add Child\n          </li>\n        )) || (\n          <li data-action=\"open\" onClick={this.props.open}>\n            Open\n          </li>\n        )}\n        <li data-action=\"copy\" onClick={this.props.copy}>\n          Copy\n        </li>\n        <li data-action=\"cut\" onClick={this.props.cut}>\n          Cut\n        </li>\n        <li data-action=\"paste\" onClick={this.props.paste}>\n          Paste\n        </li>\n        <li data-action=\"delete\" onClick={this.props.delete}>\n          Delete\n        </li>\n      </ul>\n    );\n  }\n}\n","/* eslint-disable react/sort-comp */\n/* eslint-disable camelcase */\n/* eslint-disable jsx-a11y/no-noninteractive-tabindex */\n/* eslint-disable no-shadow */\n/* eslint-disable react/forbid-prop-types */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport keydown from 'react-keydown';\nimport Link from './Link';\nimport Node from './Node';\nimport ContextMenu from './ContextMenu';\n\nconst propTypes = {\n  keyProp: PropTypes.string.isRequired,\n  labelProp: PropTypes.string.isRequired,\n  gProps: PropTypes.object.isRequired,\n  textProps: PropTypes.object.isRequired\n};\n\nclass Mindmap extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      panX: 0,\n      panY: 0,\n      zoom: 0.7,\n      isPaning: false,\n      isDragging: false,\n      isDraggingMoving: false,\n      showContext: false,\n      contextContainerStyle: {}\n    };\n\n    this.nodeContext = false;\n  }\n\n  UNSAFE_componentWillReceiveProps({ keydown }) {\n    if (keydown.event) {\n      this.props.onKeyPress({ keydown });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      prevProps.isFocus !== this.props.isFocus &&\n      this.props.isFocus &&\n      this.mindmap\n    ) {\n      this.mindmap.focus();\n    }\n  }\n\n  openNodeContextMenu = e => {\n    e.preventDefault();\n    this.nodeContext = true;\n    this.setState({\n      showContext: true,\n      contextContainerStyle: {\n        display: 'block',\n        top: `${e.clientY}px`,\n        left: `${e.clientX}px`\n      }\n    });\n  };\n\n  closeContextMenu = () => {\n    this.setState({\n      showContext: false\n    });\n  };\n\n  onWheelScroll = e => {\n    let zoom = this.state.zoom;\n    if (e.deltaY < 0) {\n      zoom *= 1.1;\n      if (zoom > 3) zoom = 3;\n    } else {\n      zoom *= 0.94;\n      if (zoom < 0.4) zoom = 0.4;\n    }\n    this.setState({ zoom });\n  };\n\n  onDragStart = (nodeName, nodeKey) => {\n    this.setState({\n      isPaning: false,\n      isDragging: true,\n      isDraggingMoving: false,\n      draggedNodeKey: nodeKey\n    });\n  };\n\n  onDragStop = (nodeKey, direction) => {\n    this.setState({\n      isPaning: false,\n      isDragging: false,\n      isDraggingMoving: false\n    });\n    this.props.moveNode(this.state.draggedNodeKey, nodeKey, direction);\n  };\n\n  onPanStart = e => {\n    const startX =\n      typeof e.clientX === 'undefined'\n        ? e.changedTouches[0].clientX\n        : e.clientX;\n    const startY =\n      typeof e.clientY === 'undefined'\n        ? e.changedTouches[0].clientY\n        : e.clientY;\n    this.setState({ isPaning: true, isDragging: false, startX, startY });\n  };\n\n  onPanMove = e => {\n    if (this.state.isDragging) {\n      this.setState({ isDraggingMoving: true });\n      return;\n    }\n\n    if (!this.state.isPaning) {\n      return;\n    }\n    const x =\n      typeof e.clientX === 'undefined'\n        ? e.changedTouches[0].clientX\n        : e.clientX;\n    const y =\n      typeof e.clientY === 'undefined'\n        ? e.changedTouches[0].clientY\n        : e.clientY;\n\n    this.setState({\n      panX: this.state.panX + x - this.state.startX,\n      panY: this.state.panY + y - this.state.startY,\n      startX: x,\n      startY: y\n    });\n  };\n\n  onPanEnd = () => {\n    this.setState({\n      isPaning: false,\n      isDragging: false,\n      isDraggingMoving: false\n    });\n  };\n\n  render() {\n    return (\n      <div\n        tabIndex=\"0\"\n        id=\"mindmap\"\n        onClick={this.closeContextMenu}\n        onFocus={() => this.props.onFocus()}\n        ref={ref => {\n          this.mindmap = ref;\n        }}\n      >\n        <div\n          className=\"custom-menu\"\n          id=\"context-container\"\n          style={this.state.contextContainerStyle}\n        >\n          {this.state.showContext && <ContextMenu {...this.props} />}\n        </div>\n        <svg\n          viewBox={`${this.props.minX} ${this.props.minY} ${this.props.maxX -\n            this.props.minX +\n            this.props.nodeWidth +\n            1} ${this.props.maxY - this.props.minY + 1}`}\n          className=\"custom\"\n          onMouseDown={this.onPanStart}\n          onMouseMove={this.onPanMove}\n          onMouseLeave={this.onPanEnd}\n          onMouseUp={this.onPanEnd}\n          onWheel={this.onWheelScroll}\n          style={{ pointerEvents: 'auto', height: '100%' }}\n        >\n          <g\n            transform={` translate(${this.state.panX} ${this.state.panY}) scale(${this.state.zoom}) `}\n          >\n            {this.props.links.map(link => (\n              <Link\n                colorScheme={link.target.data.name.charCodeAt(0)}\n                branchColor={link.target.data.branchColor}\n                isDottedLine={link.target.data.notImplemented}\n                key={link.target.data[this.props.keyProp]}\n                keyProp={this.props.keyProp}\n                source={link.source}\n                target={link.target}\n                x1={link.source.x}\n                x2={link.target.x}\n                y1={\n                  link.source.y +\n                  (link.source.data.parent?\n                      (link.source.data.direction === 'right' &&\n                      link.target.data.direction === 'right'\n                        ? link.source.data.name.length * 9\n                        : 0) -\n                      (link.source.data.direction === 'left' &&\n                      link.target.data.direction === 'left'\n                        ? link.source.data.name.length * 9\n                        : 0)\n                   : link.source.data.name.length * 4.5)\n                }\n                y2={\n                  link.target\n                    .y /* + ((link.target.data.direction === \"left\"\t)?link.target.data.name.length*9:0)  */\n                }\n                pathProps={{\n                  ...this.props.pathProps,\n                  ...link.target.data.pathProps\n                }}\n                linkData={link}\n              />\n            ))}\n            {this.props.nodes\n              .filter(n => n.data.nodeKey)\n              .map(node => (\n                <g key={node.data.nodeKey}>\n                  <Link\n                    branchColor={node.data.branchColor}\n                    isDottedLine={node.data.notImplemented}\n                    x1={node.x}\n                    x2={node.x}\n                    y1={\n                      node.y +\n                      (node.data.direction === 'right'\n                        ? node.data.name.length * 9\n                        : 0)\n                    }\n                    y2={\n                      node.y -\n                      (node.data.direction === 'left'\n                        ? node.data.name.length * 9\n                        : 0)\n                    }\n                    pathProps={{\n                      ...this.props.pathProps,\n                      ...node.data.pathProps\n                    }}\n                  />\n                  <Node\n                    node={node}\n                    currentNode={this.props.currentNode}\n                    onNodeSelect={this.props.onNodeSelect}\n                    addNewChildNode={this.props.addNewChildNode}\n                    onDragStart={this.onDragStart}\n                    onDragStop={this.onDragStop}\n                    openContextMenu={this.openNodeContextMenu}\n                    isDraggingMoving={this.state.isDraggingMoving}\n                    key={node.data[this.props.keyProp]}\n                    keyProp={this.props.keyProp}\n                    labelProp={this.props.labelProp}\n                    x={node.x}\n                    y={node.y}\n                    Width={this.props.nodeWidth}\n                    gProps={{\n                      ...this.props.gProps,\n                      ...node.data.gProps\n                    }}\n                    textProps={{\n                      ...this.props.textProps,\n                      ...node.data.textProps\n                    }}\n                    {...node.data}\n                  />\n                </g>\n              ))}\n          </g>\n        </svg>\n      </div>\n    );\n  }\n}\n\nMindmap.propTypes = propTypes;\nexport default keydown(Mindmap);\n","/* eslint-disable camelcase */\n/* eslint-disable import/no-unresolved */\n/* eslint-disable react/forbid-prop-types */\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport Mindmap from './Mindmap';\n\nconst propTypes = {\n  animated: PropTypes.bool.isRequired,\n  getChildren: PropTypes.func.isRequired,\n  keyProp: PropTypes.string.isRequired,\n  links: PropTypes.array.isRequired,\n  nodes: PropTypes.array.isRequired,\n  duration: PropTypes.number.isRequired,\n  easing: PropTypes.func.isRequired,\n  steps: PropTypes.number.isRequired\n};\n\nexport default class Animated extends Component {\n  constructor(props) {\n    super(props);\n    if (props.animated) {\n      // If we are animating, we set the initial positions of the nodes and links to be the position of the root node\n      // and animate from there\n      const initialX = props.nodes[0].x;\n      const initialY = props.nodes[0].y;\n      this.state = {\n        nodes: props.nodes.map(n =>\n          ({ ...n, x: initialX, y: initialY})\n        ),\n        links: props.links.map(l => ({\n          source: {\n            ...l.source,\n            x: initialX,\n            y: initialY\n          },\n          target: {\n            ...l.target,\n            x: initialX,\n            y: initialY\n          }\n        }))\n      };\n    } else {\n      this.state = {\n        nodes: props.nodes,\n        links: props.links\n      };\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.animated) {\n      this.animate(this.props);\n    }\n  }\n\n  getAnimationContext(initialState, newState) {\n    // Nodes/links that are in both states need to be moved from the old position to the new one\n    // Nodes/links only in the initial state are being removed, and should be moved to the position\n    // of the closest ancestor that still exists, or the new root\n    // Nodes/links only in the new state are being added, and should be moved from the position of\n    // the closest ancestor that previously existed, or the old root\n\n    // The base determines which node/link the data (like classes and labels) comes from for rendering\n\n    // We only run this once at the start of the animation, so optimization is less important\n    const addedNodes = newState.nodes\n      .filter(n1 => initialState.nodes.every(n2 => !this.areNodesSame(n1, n2)))\n      .map(n1 => ({\n        base: n1,\n        old: this.getClosestAncestor(n1, newState, initialState),\n        new: n1\n      }));\n    const changedNodes = newState.nodes\n      .filter(n1 => initialState.nodes.some(n2 => this.areNodesSame(n1, n2)))\n      .map(n1 => ({\n        base: n1,\n        old: initialState.nodes.find(n2 => this.areNodesSame(n1, n2)),\n        new: n1\n      }));\n    const removedNodes = initialState.nodes\n      .filter(n1 => newState.nodes.every(n2 => !this.areNodesSame(n1, n2)))\n      .map(n1 => ({\n        base: n1,\n        old: n1,\n        new: this.getClosestAncestor(n1, initialState, newState)\n      }));\n\n    const addedLinks = newState.links\n      .filter(l1 => initialState.links.every(l2 => !this.areLinksSame(l1, l2)))\n      .map(l1 => ({\n        base: l1,\n        old: this.getClosestAncestor(l1.target, newState, initialState),\n        new: l1\n      }));\n    const changedLinks = newState.links\n      .filter(l1 => initialState.links.some(l2 => this.areLinksSame(l1, l2)))\n      .map(l1 => ({\n        base: l1,\n        old: initialState.links.find(l2 => this.areLinksSame(l1, l2)),\n        new: l1\n      }));\n    const removedLinks = initialState.links\n      .filter(l1 => newState.links.every(l2 => !this.areLinksSame(l1, l2)))\n      .map(l1 => ({\n        base: l1,\n        old: l1,\n        new: this.getClosestAncestor(l1.target, initialState, newState)\n      }));\n\n    return {\n      nodes: changedNodes.concat(addedNodes).concat(removedNodes),\n      links: changedLinks.concat(addedLinks).concat(removedLinks)\n    };\n  }\n\n  getClosestAncestor(node, stateWithNode, stateWithoutNode) {\n    let oldParent = node;\n\n    while (oldParent) {\n      // eslint-disable-next-line\n      let newParent = stateWithoutNode.nodes.find(n =>\n        this.areNodesSame(oldParent, n)\n      );\n\n      if (newParent) {\n        return newParent;\n      }\n      // eslint-disable-next-line\n      oldParent = stateWithNode.nodes.find(n =>\n        (this.props.getChildren(n) || []).some(c =>\n          this.areNodesSame(oldParent, c)\n        )\n      );\n    }\n\n    return stateWithoutNode.nodes[0];\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (\n      nextProps.nodes === this.props.nodes &&\n      nextProps.links === this.props.links\n    ) {\n      return;\n    }\n\n    if (!nextProps.animated) {\n      this.setState({\n        nodes: nextProps.nodes,\n        links: nextProps.links\n      });\n      return;\n    }\n\n    this.animate(nextProps);\n  }\n\n  animate(props) {\n    // Stop previous animation if one is already in progress.  We will start the next animation\n    // from the position we are currently in\n    clearInterval(this.animation);\n\n    let counter = 0;\n\n    // Do as much one-time calculation outside of the animation step, which needs to be fast\n    const animationContext = this.getAnimationContext(this.state, props);\n\n    this.animation = setInterval(() => {\n      counter += 1;\n\n      if (counter === props.steps) {\n        clearInterval(this.animation);\n        this.animation = null;\n        this.setState({\n          nodes: props.nodes,\n          links: props.links\n        });\n        return;\n      }\n\n      this.setState(\n        this.calculateNewState(animationContext, counter / props.steps)\n      );\n    }, props.duration / props.steps);\n  }\n\n  areNodesSame(a, b) {\n    return a.data[this.props.keyProp] === b.data[this.props.keyProp];\n  }\n\n  areLinksSame(a, b) {\n    return (\n      a.source.data[this.props.keyProp] === b.source.data[this.props.keyProp] &&\n      a.target.data[this.props.keyProp] === b.target.data[this.props.keyProp]\n    );\n  }\n\n  calculateNewState(animationContext, interval) {\n    return {\n      nodes: animationContext.nodes.map(n =>\n        this.calculateNodePosition(n.base, n.old, n.new, interval)\n      ),\n      links: animationContext.links.map(l =>\n        this.calculateLinkPosition(l.base, l.old, l.new, interval)\n      )\n    };\n  }\n\n  calculateNodePosition(node, start, end, interval) {\n    return {\n      ...node,\n      x: this.calculateNewValue(start.x, end.x, interval),\n      y: this.calculateNewValue(start.y, end.y, interval)\n    };\n  }\n\n  calculateLinkPosition(link, start, end, interval) {\n    return {\n      source: {\n        ...link.source,\n        x: this.calculateNewValue(\n          start.source ? start.source.x : start.x,\n          end.source ? end.source.x : end.x,\n          interval\n        ),\n        y: this.calculateNewValue(\n          start.source ? start.source.y : start.y,\n          end.source ? end.source.y : end.y,\n          interval\n        )\n      },\n      target: {\n        ...link.target,\n        x: this.calculateNewValue(\n          start.target ? start.target.x : start.x,\n          end.target ? end.target.x : end.x,\n          interval\n        ),\n        y: this.calculateNewValue(\n          start.target ? start.target.y : start.y,\n          end.target ? end.target.y : end.y,\n          interval\n        )\n      }\n    };\n  }\n\n  calculateNewValue(start, end, interval) {\n    return start + (end - start) * this.props.easing(interval);\n  }\n\n  render() {\n    return <Mindmap {...this.props} {...this.state} />;\n  }\n}\n\nAnimated.propTypes = propTypes;\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-shadow */\n/* eslint-disable prefer-const */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable react/forbid-prop-types */\n/* eslint-disable react/default-props-match-prop-types */\n/* eslint-disable react/require-default-props */\nimport clone from 'clone';\nimport { easeQuadOut } from 'd3-ease';\nimport { hierarchy, tree } from 'd3-hierarchy';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport uniqid from 'uniqid';\nimport _ from 'lodash';\nimport Animated from './Animated';\nimport ModelAPI from '../../api/ModelAPI';\nimport {\n  searchTreeByKey,\n  isAncestorOf,\n  cloneTree,\n  addNewChildNode,\n} from '../../helpers/tree_helper';\n\nconst propTypes = {\n  animated: PropTypes.bool.isRequired,\n  children: PropTypes.node,\n  duration: PropTypes.number.isRequired,\n  easing: PropTypes.func.isRequired,\n  steps: PropTypes.number.isRequired,\n  keyProp: PropTypes.string.isRequired,\n  labelProp: PropTypes.string.isRequired,\n  getChildren: PropTypes.func.isRequired,\n  margins: PropTypes.shape({\n    bottom: PropTypes.number.isRequired,\n    left: PropTypes.number.isRequired,\n    right: PropTypes.number.isRequired,\n    top: PropTypes.number.isRequired,\n  }).isRequired,\n  gProps: PropTypes.object.isRequired,\n  pathProps: PropTypes.object.isRequired,\n  textProps: PropTypes.object.isRequired,\n};\n\nconst defaultProps = {\n  animated: false,\n  duration: 50,\n  easing: easeQuadOut,\n  getChildren: n => n.children,\n  steps: 5,\n  keyProp: 'nodeKey',\n  labelProp: 'name',\n  margins: {\n    bottom: 10,\n    left: 100,\n    right: 150,\n    top: 10,\n  },\n  nodeWidth: 100,\n  gProps: {\n    className: 'node',\n  },\n  pathProps: {\n    className: 'link',\n  },\n  textProps: {},\n};\n\nconst oneCharWidth = 10;\n\nexport default class Tree extends Component {\n  previousStates = [];\n\n  state = {\n    toCopyNodeKey: null,\n    toCutNodeKey: null,\n    event: '',\n    fullScreen: false,\n    swaggerHtml: '',\n  };\n\n  keyHandler = ({ keydown }) => {\n    if (keydown.event) {\n      if (keydown.event.which === 113) {\n        this.f2Key();\n      }\n      if (keydown.event.which === 40) {\n        this.downKeyHandler();\n      }\n      if (keydown.event.which === 38) {\n        this.upKeyHandler();\n      }\n      if (keydown.event.which === 37) {\n        this.leftKeyHandler();\n      }\n      if (keydown.event.which === 39) {\n        this.rightKeyHandler();\n      }\n      if (keydown.event.which === 66 && keydown.event.ctrlKey) {\n        this.boldHandler();\n      }\n      if (keydown.event.which === 67 && keydown.event.ctrlKey) {\n        this.copyHandler();\n      }\n      if (keydown.event.which === 88 && keydown.event.ctrlKey) {\n        this.cutHandler();\n      }\n      if (keydown.event.which === 86 && keydown.event.ctrlKey) {\n        this.pasteHandler();\n      }\n      if (\n        (keydown.event.which === 90 && keydown.event.ctrlKey) ||\n        (keydown.event.which === 90 && keydown.event.metaKey)\n      ) {\n        this.props.onUndo();\n      }\n      if (keydown.event.which === 13) {\n        this.enterKeyHandler();\n      }\n      if (keydown.event.which === 45) {\n        this.insertKeyHandler();\n      }\n      if (keydown.event.which === 46 || keydown.event.which === 8) {\n        this.deleteKeyHandler();\n      }\n      if (\n        keydown.event.which >= 65 &&\n        keydown.event.which <= 90 &&\n        !keydown.event.ctrlKey &&\n        !keydown.event.metaKey\n      ) {\n        this.props.onLetterDown();\n      }\n    }\n  };\n\n  updateChildrenParentLinks = (children, newParentKey) => {\n    if (children && children.length > 0) {\n      children.forEach(child => {\n        child.parent = newParentKey;\n      });\n    }\n  };\n\n  moveNode = (draggedNodeKey, destinationNodeKey, direction) => {\n    if (\n      destinationNodeKey &&\n      draggedNodeKey &&\n      draggedNodeKey !== destinationNodeKey &&\n      !isAncestorOf(draggedNodeKey, destinationNodeKey, this.props.data)\n    ) {\n      const allData = cloneTree(this.props.data, null, false);\n      const nodeWhereToAdd = searchTreeByKey(destinationNodeKey, allData);\n      const nodeToDelete = searchTreeByKey(draggedNodeKey, allData);\n      if (nodeToDelete.parent) {\n        let parentNode = searchTreeByKey(nodeToDelete.parent, allData);\n        parentNode.children.splice(\n          parentNode.children.findIndex(v => v.nodeKey === draggedNodeKey),\n          1\n        );\n        if (direction === 'left' || direction === 'right') {\n          let newNode = cloneTree(nodeToDelete, nodeWhereToAdd.nodeKey);\n          newNode.direction = direction;\n          nodeWhereToAdd.children.push(newNode);\n          this.updateChildrenParentLinks(newNode.children, newNode.nodeKey);\n          this.props.onTreeUpdate({\n            dataUpdated: allData,\n            currentNode: newNode,\n          });\n        }\n        if (direction === 'above' || direction === 'below') {\n          if (nodeWhereToAdd.parent) {\n            let parentNode = searchTreeByKey(nodeWhereToAdd.parent, allData);\n            let destIndex = parentNode.children.findIndex(\n              v => v.nodeKey === destinationNodeKey\n            );\n            let newNode = cloneTree(nodeToDelete, nodeWhereToAdd.parent);\n            parentNode.children.splice(\n              direction === 'above' ? destIndex : destIndex + 1,\n              0,\n              newNode\n            );\n            newNode.direction = nodeWhereToAdd.direction;\n            this.updateChildrenParentLinks(newNode.children, newNode.nodeKey);\n            this.props.onTreeUpdate({\n              dataUpdated: allData,\n              currentNode: newNode,\n            });\n          }\n        }\n      }\n    }\n  };\n\n  getTreeDepthAndCardinality = (data, depth) => {\n    this.cardinality += 1;\n    if (this.maxDepth < depth) this.maxDepth = depth;\n    if (data.children.length !== 0)\n      data.children.forEach(n => this.getTreeDepthAndCardinality(n, depth + 1));\n  };\n\n  getTreeTextWidth = (data, textWidth, maxLength) => {\n    if (data.children.length !== 0) {\n      const lengths = data.children.map(n =>\n        this.getTreeTextWidth(n, textWidth + n.name.length)\n      );\n      return Math.max(...lengths);\n    }\n\n    if (data.name && maxLength > textWidth + data.name.length) {\n      return textWidth + data.name.length;\n    }\n\n    if (data.children.length === 0) {\n      return 0;\n    }\n\n    return maxLength;\n  };\n\n  propagateDirection = (node, dir) => {\n    node.direction = dir;\n    node.children.forEach(c => {\n      this.propagateDirection(c, dir);\n    });\n  };\n\n  propagateShiftLeft = (node, horizontalShift) => {\n    let nodeShift = node.data.name.length * oneCharWidth;\n    if (node.depth === 0) nodeShift = 0;\n    node.y += horizontalShift;\n    if (node.children)\n      node.children.forEach(c => {\n        this.propagateShiftLeft(c, horizontalShift + nodeShift);\n      });\n  };\n\n  propagateShiftRight = (node, horizontalShift) => {\n    const nodeShift = node.data.name.length * oneCharWidth;\n    if (node.children)\n      node.children.forEach(c => {\n        c.y += horizontalShift + nodeShift;\n        this.propagateShiftRight(c, horizontalShift + nodeShift);\n      });\n  };\n\n  nodePlacementAdaptation = (node, treeMaxLength) => {\n    if (node.parent && node.parent.parent) {\n      let maxLength = 0;\n      node.parent.parent.children.forEach(uncle => {\n        if (uncle.data.name.length > maxLength) {\n          maxLength = uncle.data.name.length;\n        }\n      });\n      treeMaxLength += maxLength;\n      node.y +=\n        (treeMaxLength -\n          node.parent.data.name.length * (1 + 0.11 * (node.depth - 1))) *\n        9;\n    }\n\n    if (node.children) {\n      node.children = node.children.map(child => {\n        return this.nodePlacementAdaptation(child, treeMaxLength);\n      });\n    }\n\n    return node;\n  };\n\n  addNewChildNode = (nodeKey, direction) => {\n    const { data, selectedNodeKey, node } = addNewChildNode(\n      this.props.data,\n      nodeKey,\n      direction\n    );\n    if (data && selectedNodeKey && node) {\n      this.props.onTreeUpdate({\n        dataUpdated: data,\n        currentNode: node,\n      });\n    }\n  };\n\n  openReferenceHandler = () => {\n    ModelAPI.getModel(this.props.currentNode.referenceId).then(\n      populatedModel => {\n        if (populatedModel.freezeTag === '0') {\n          this.props.history.push({\n            pathname: '/tree',\n            state: {\n              modelId: this.props.currentNode.referenceId,\n            },\n          });\n        } else {\n          this.props.history.push({\n            pathname: '/tree-frozen',\n            state: {\n              model: populatedModel,\n            },\n          });\n        }\n      }\n    );\n  };\n\n  insertKeyHandler = () => {\n    if (this.props.currentNode.type !== 'reference') {\n      this.addNewChildNode(this.props.currentNode.nodeKey, null);\n    }\n  };\n\n  deleteKeyHandler = () => {\n    if (this.props.currentNode.nodeKey) {\n      const allData = cloneTree(this.props.data, null, false);\n      let nodeToDelete = searchTreeByKey(\n        this.props.currentNode.nodeKey,\n        allData\n      );\n      if (nodeToDelete.parent) {\n        let parentNode = searchTreeByKey(nodeToDelete.parent, allData);\n        parentNode.children.splice(\n          parentNode.children.findIndex(\n            v => v.nodeKey === this.props.currentNode.nodeKey\n          ),\n          1\n        );\n        this.props.onTreeUpdate({\n          dataUpdated: allData,\n          currentNode: parentNode,\n        });\n      }\n    }\n  };\n\n  copyHandler = () => {\n    if (this.props.currentNode.nodeKey) {\n      this.setState({\n        toCopyNodeKey: this.props.currentNode.nodeKey,\n        toCutNodeKey: null,\n      });\n    }\n  };\n\n  cutHandler = () => {\n    if (this.props.currentNode.nodeKey) {\n      this.setState({\n        toCopyNodeKey: null,\n        toCutNodeKey: this.props.currentNode.nodeKey,\n      });\n    }\n  };\n\n  pasteHandler = () => {\n    let allData = cloneTree(this.props.data, null, false);\n    if (this.props.currentNode.nodeKey) {\n      let nodeWhereToAdd = searchTreeByKey(\n        this.props.currentNode.nodeKey,\n        allData\n      );\n\n      // Cut\n      if (\n        this.state.toCutNodeKey &&\n        !isAncestorOf(\n          this.state.toCutNodeKey,\n          this.props.currentNode.nodeKey,\n          this.props.data\n        )\n      ) {\n        let nodeToDelete = searchTreeByKey(this.state.toCutNodeKey, allData);\n        let newNode = cloneTree(nodeToDelete, nodeWhereToAdd.nodeKey);\n        let parentNode = searchTreeByKey(nodeToDelete.parent, allData);\n        parentNode.children.splice(\n          parentNode.children.findIndex(\n            v => v.nodeKey === this.state.toCutNodeKey\n          ),\n          1\n        );\n        nodeWhereToAdd.children.push(newNode);\n        this.props.onTreeUpdate({\n          dataUpdated: allData,\n          currentNode: newNode,\n        });\n      }\n\n      // Copy\n      if (this.state.toCopyNodeKey) {\n        let nodeToCopy = searchTreeByKey(this.state.toCopyNodeKey, allData);\n        if (nodeToCopy.parent) {\n          let newNode = cloneTree(nodeToCopy, nodeWhereToAdd.nodeKey);\n          nodeWhereToAdd.children.push(newNode);\n          this.props.onTreeUpdate({\n            dataUpdated: allData,\n            currentNode: newNode,\n          });\n        }\n      }\n    }\n  };\n\n  sanitizeNode(node) {\n    Object.keys(node).forEach(key => {\n      if (node[key] && _.isString(node[key]) && node[key].indexOf('\"') > -1) {\n        node[key] = node[key].replace('\"', '');\n      }\n    });\n  }\n\n  boldHandler() {\n    this.props.onToolsMenuChange({\n      abstract: !this.props.currentNode.abstract,\n    });\n  }\n\n  enterKeyHandler() {\n    if (this.props.currentNode.nodeKey) {\n      const allData = cloneTree(this.props.data, null, false);\n      let nodeWhereToAdd = searchTreeByKey(\n        this.props.currentNode.nodeKey,\n        allData\n      );\n      if (nodeWhereToAdd.parent) {\n        const parentNode = searchTreeByKey(nodeWhereToAdd.parent, allData);\n        const indexWhereToAdd = parentNode.children.indexOf(nodeWhereToAdd);\n        const newNodeKey = uniqid();\n        const newNode = {\n          name: '',\n          parent: parentNode.nodeKey,\n          children: [],\n          nodeKey: newNodeKey,\n          type: 'string',\n          referenceId: '',\n          isArray: false,\n          example: '',\n          abstract: false,\n          description: '',\n          queryParams: '',\n          direction: nodeWhereToAdd.direction,\n          queryable: false,\n          paginable: false,\n          isInPostResponse: false,\n          patchable: false,\n          notImplemented: false,\n          isSubPath: false,\n          calculated: false,\n          branchColor: parentNode.branchColor,\n        };\n        parentNode.children.splice(indexWhereToAdd + 1, 0, newNode);\n        this.props.onTreeUpdate({\n          dataUpdated: allData,\n          currentNode: newNode,\n        });\n      }\n    }\n  }\n\n  upKeyHandler() {\n    if (this.props.currentNode.nodeKey) {\n      const allData = this.props.data;\n      let selectedNode = searchTreeByKey(\n        this.props.currentNode.nodeKey,\n        allData\n      );\n      if (selectedNode.parent) {\n        let parentNode = searchTreeByKey(selectedNode.parent, allData);\n        for (\n          let indexWhereToGo = parentNode.children.indexOf(selectedNode) - 1;\n          indexWhereToGo >= 0;\n          indexWhereToGo -= 1\n        ) {\n          if (\n            parentNode.children[indexWhereToGo].direction ===\n            selectedNode.direction\n          ) {\n            this.props.onNodeSelect(\n              parentNode.children[indexWhereToGo],\n              allData\n            );\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  downKeyHandler() {\n    if (this.props.currentNode.nodeKey) {\n      const allData = this.props.data;\n      let selectedNode = searchTreeByKey(\n        this.props.currentNode.nodeKey,\n        allData\n      );\n      if (selectedNode.parent) {\n        let parentNode = searchTreeByKey(selectedNode.parent, allData);\n        let indexWhereToGo;\n        for (\n          indexWhereToGo = parentNode.children.indexOf(selectedNode) + 1;\n          indexWhereToGo < parentNode.children.length;\n          indexWhereToGo += 1\n        ) {\n          if (\n            parentNode.children[indexWhereToGo].direction ===\n            selectedNode.direction\n          ) {\n            this.props.onNodeSelect(\n              parentNode.children[indexWhereToGo],\n              allData\n            );\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  leftKeyHandler() {\n    if (this.props.currentNode.nodeKey) {\n      const allData = this.props.data;\n      let selectedNode = searchTreeByKey(\n        this.props.currentNode.nodeKey,\n        allData\n      );\n      if (selectedNode.nodeKey === this.props.data.nodeKey) {\n        let indexWhereToGo = selectedNode.children.findIndex(\n          n => n.direction === 'left'\n        );\n        if (indexWhereToGo !== -1) {\n          this.props.onNodeSelect(\n            selectedNode.children[indexWhereToGo],\n            allData\n          );\n        }\n      } else if (selectedNode.direction === 'right') {\n        this.goToParent(selectedNode, allData);\n      } else {\n        this.goToFirstChild(selectedNode, allData);\n      }\n    }\n  }\n\n  rightKeyHandler() {\n    if (this.props.currentNode.nodeKey) {\n      const allData = this.props.data;\n      const selectedNode = searchTreeByKey(\n        this.props.currentNode.nodeKey,\n        allData\n      );\n      if (selectedNode.direction === 'left') {\n        this.goToParent(selectedNode, allData);\n      } else {\n        this.goToFirstChild(selectedNode, allData);\n      }\n    }\n  }\n\n  goToParent(selectedNode, allData) {\n    if (selectedNode.parent) {\n      const parentNode = searchTreeByKey(selectedNode.parent, allData);\n      this.props.onNodeSelect(parentNode, allData);\n    }\n  }\n\n  goToFirstChild(selectedNode, allData) {\n    if (selectedNode.children && selectedNode.children.length > 0) {\n      const indexWhereToGo = selectedNode.children.findIndex(\n        n => n.direction === selectedNode.direction\n      );\n      if (indexWhereToGo !== -1) {\n        this.props.onNodeSelect(selectedNode.children[indexWhereToGo], allData);\n      }\n    }\n  }\n\n  render() {\n    const { isFocus, onNodeSelect, children, data, margins } = this.props;\n\n    // Calcule une taille de svg adapte  la richesse de l'arbre\n    // Pour la largeur, trouver la branche o il y a le plus de texte cumul,  gauche puis  droite\n    const maxLeftLength = this.getTreeTextWidth(\n      {\n        children: data.children.filter(ld => ld.direction === 'left'),\n      },\n      0,\n      120\n    );\n    const maxRightLength = this.getTreeTextWidth(\n      {\n        children: data.children.filter(ld => ld.direction === 'right'),\n      },\n      0,\n      120\n    );\n    const contentHeight =\n      600 +\n      (maxLeftLength + maxRightLength) * oneCharWidth -\n      margins.left -\n      margins.right;\n\n    // Pour la hauteur, on fait le nombre de champs divis par le nombre de niveaux. Poura tre amlior\n    this.maxDepth = 0;\n    this.cardinality = 0;\n    this.getTreeDepthAndCardinality(data, 0);\n    const contentWidth =\n      200 +\n      (60 * (this.cardinality + 1)) / (this.maxDepth + 1) -\n      margins.top -\n      margins.bottom;\n\n    // Cre deux sous arbres gauche et droite\n    data.children.forEach(c => {\n      this.propagateDirection(c, c.direction);\n    });\n\n    const leftData = clone(data);\n    leftData.children = leftData.children.filter(ld => ld.direction === 'left');\n    this.propagateDirection(leftData, 'left');\n\n    let rootLeft = tree().size([contentWidth, contentHeight / 2])(\n      hierarchy(leftData)\n    );\n\n    rootLeft = this.nodePlacementAdaptation(rootLeft, 0);\n    const nodesLeft = rootLeft.descendants();\n    const linksLeft = rootLeft.links();\n    this.propagateShiftLeft(nodesLeft[0], 0);\n\n    const rightData = clone(data);\n    rightData.children = rightData.children.filter(\n      rd => rd.direction === 'right'\n    );\n    this.propagateDirection(rightData, 'right', 0);\n\n    let rootRight = tree().size([contentWidth, contentHeight / 2])(\n      hierarchy(rightData)\n    );\n\n    rootRight = this.nodePlacementAdaptation(rootRight, 0);\n    const nodesRight = rootRight.descendants();\n    const linksRight = rootRight.links();\n    this.propagateShiftRight(nodesRight[0], 0);\n\n    // Retourne le sous-arbre gauche et le positionne en face du droit\n    const dh = nodesRight[0].x - nodesLeft[0].x;\n    nodesLeft.forEach(nl => {\n      nl.x += dh;\n      nl.y = -nl.y;\n    });\n\n    // Rattache au noeud racine droite les enfants du noeud racine de gauche\n    linksLeft.forEach(ll => {\n      if (ll.source.data.nodeKey === nodesLeft[0].data.nodeKey) {\n        // eslint-disable-next-line no-param-reassign\n        ll.source = nodesRight[0];\n      }\n      if (ll.target.data.nodeKey === nodesLeft[0].data.nodeKey) {\n        ll.target = nodesRight[0];\n      }\n    });\n    nodesLeft.splice(0, 1);\n\n    // Joint les deux sous-arbres\n    const nodes = nodesLeft.concat(nodesRight);\n    const links = linksLeft.concat(linksRight);\n\n    // Mesure l'arbre rsultat puis recentre\n    let minX = nodesRight[0].x;\n    let maxX = nodesRight[0].x;\n    let minY = nodesRight[0].y;\n    let maxY = nodesRight[0].y;\n    nodes.forEach(n => {\n      if (minX > n.x) minX = n.x;\n      if (maxX < n.x) maxX = n.x;\n      if (minY > n.y) minY = n.y;\n      if (maxY < n.y) maxY = n.y;\n    });\n    const shift = (minX + maxX) / 2; // Hauteur mediane\n    nodes.forEach(n => {\n      n.x -= shift;\n    });\n    maxX -= shift;\n    minX -= shift;\n\n    minY -= 100; // Centrage pour les petits mindmaps, comme celui du dpart from scratch\n    return (\n      <Animated\n        {...this.props}\n        {...this.state}\n        minY={minX}\n        maxY={maxX}\n        minX={minY}\n        maxX={maxY}\n        links={links}\n        nodes={nodes}\n        centerX={nodes[0].y}\n        centerY={nodes[0].x}\n        cardinality={this.cardinality}\n        open={() => this.openReferenceHandler()}\n        insert={() => this.insertKeyHandler()}\n        copy={() => this.copyHandler()}\n        cut={() => this.cutHandler()}\n        paste={() => this.pasteHandler()}\n        delete={() => this.deleteKeyHandler()}\n        moveNode={this.moveNode}\n        addNewChildNode={this.addNewChildNode}\n        onSaveTree={this.saveTree}\n        onKeyPress={this.keyHandler}\n        onNodeSelect={onNodeSelect}\n        isFocus={isFocus}\n      >\n        {children}\n      </Animated>\n    );\n  }\n}\n\nTree.propTypes = propTypes;\nTree.defaultProps = defaultProps;\n","import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles, createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider } from '@material-ui/styles';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nconst theme = createMuiTheme({\n  overrides: {\n    MuiIconButton: {\n      root: {\n        fontSize: '1rem'\n      },\n      label: {\n        display: 'block'\n      }\n    }\n  }\n});\n\nconst useStyles = makeStyles({\n  root: {\n    '&:hover': {\n      backgroundColor: 'transparent'\n    }\n  },\n  icon: props => ({\n    fontSize: '15px',\n    fontWeight: 'bold',\n    borderRadius: 30,\n    display: 'table-cell',\n    border: `3px solid ${props.customcolor}`,\n    color: props.customcolor,\n    width: 90,\n    height: 30,\n    'input:hover ~ &': {\n      backgroundColor: '#ebf1f5'\n    },\n    'input:disabled ~ &': {\n      background: 'rgba(206,217,224,.5)'\n    },\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)'\n  }),\n  checkedIcon: props => ({\n    borderRadius: 30,\n    display: 'table-cell',\n    border: `3px solid ${props.customcolor}`,\n    color: 'white',\n    backgroundColor: `${props.customcolor}`,\n    width: 90,\n    height: 30,\n    'input:hover ~ &': {\n      backgroundColor: '#ebf1f5'\n    },\n    boxShadow: '0 3px 5px 2px rgba(255, 105, 135, .3)'\n  })\n});\n\nfunction StyledCheckbox(props) {\n  const classes = useStyles(props);\n\n  return (\n    <>\n      <ThemeProvider theme={theme}>\n        <Checkbox\n          className={classes.root}\n          checkedIcon={\n            <span className={clsx(classes.icon, classes.checkedIcon)}>\n              {props.label}\n            </span>\n          }\n          icon={<span className={classes.icon}>{props.label}</span>}\n          {...props}\n        />\n      </ThemeProvider>\n    </>\n  );\n}\n\nexport default function CustomizedCheckbox(props) {\n  return (\n    <div style={{ margin: 'auto' }}>\n      <StyledCheckbox {...props} />\n    </div>\n  );\n}\n","const styles = () => {\n  return {\n    margin: {\n      margin: 'auto'\n    },\n    editContainer: {\n      overflowY: 'auto',\n      overflowX: 'hidden',\n      padding: '10px !important',\n      backgroundColor: 'white',\n      width: '20%',\n      minWidth: '20%',\n      zIndex: 10\n    },\n    fieldContainer: {\n      padding: '10px',\n      display: 'grid'\n    },\n    formControl: {\n      margin: '10px'\n    },\n    formLabel: {\n      margin: 'auto',\n      fontSize: '1.4em',\n      padding: '10px'\n    },\n    ExpansionPanelDetails: {\n      display: 'grid'\n    },\n    hideEditIcon: {\n      color: '#324157',\n      width: 'fit-content',\n      marginBottom: '10px'\n    },\n    hideIconContainer: {\n      width: '100%',\n      display: 'flex',\n      justifyContent: 'flex-end'\n    },\n    referencePaper: {\n      padding: '20px',\n      display: 'inline-grid',\n      margin: '10px'\n    }\n  };\n};\n\nexport default styles;\n","/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable jsx-a11y/label-has-for */\nimport React, { Component } from 'react';\nimport {\n  Tooltip,\n  TextField,\n  FormControl,\n  InputLabel,\n  Select,\n  OutlinedInput,\n  Checkbox,\n  ExpansionPanel,\n  ExpansionPanelSummary,\n  Typography,\n  ExpansionPanelDetails,\n  FormLabel,\n  FormGroup,\n  Paper,\n  IconButton,\n} from '@material-ui/core';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { withStyles } from '@material-ui/core/styles';\nimport { TwitterPicker } from 'react-color';\nimport CustomizedCheckbox from './Checkbox';\nimport ModelAPI from '../../api/ModelAPI';\nimport styles from '../../styles/EditNodeMenu.css';\nimport {\n  hasOperationAncestor,\n  hasAncestorWithPost,\n} from '../../helpers/tree_helper';\n\nclass ToolsMenu extends Component {\n  state = {\n    models: [],\n  };\n\n  componentDidMount() {\n    ModelAPI.getModels({\n      organization: this.props.organization,\n      pageSize: 0,\n    }).then(models => {\n      this.setState({\n        models: models.data.data.filter(\n          model => model.id !== this.props.modelId\n        ),\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.isFocus !== prevProps.isFocus && this.nameInput) {\n      this.nameInput.focus();\n    }\n  }\n\n  onCheckBoxChange = ({ target }) => {\n    const node = { [target.name]: target.checked };\n    this.props.onToolsMenuChange(node);\n  };\n\n  onInversedCheckBoxChange = ({ target }) => {\n    const node = { [target.name]: !target.checked };\n    this.props.onToolsMenuChange(node);\n  };\n\n  onVerbButtonClick = ({ target }) => {\n    const node = { verbs: [target.name] };\n    this.props.onToolsMenuChange(node);\n  };\n\n  onNodeTypeChange = ({ target }) => {\n    const node = { [target.name]: target.value };\n    if (target.value === 'reference') {\n      node.referenceId = this.state.models[0].id;\n      node.children = [];\n    }\n    this.props.onToolsMenuChange(node);\n  };\n\n  onTextFieldChange = ({ target }) => {\n    const node = { [target.name]: target.value };\n    this.props.onToolsMenuChange(node);\n  };\n\n  onDropDownChange = ({ target }) => {\n    const node = { [target.name]: target.value };\n    this.props.onToolsMenuChange(node);\n  };\n\n  onBranchColorChange = color => {\n    const node = { branchColor: color.hex };\n    this.props.onToolsMenuChange(node);\n  };\n\n  onSubpathCheckboxChange = ({ target }) => {\n    const node = { isSubPath: target.checked };\n    // onToolsMenuChange requires to set the verbs in order to autoselect operations\n    // when creating a new child node\n    // Also, we can't just pass READ and UPDATE, all fields are required\n    if (target.checked) {\n      node.verbs = ['SEARCH', 'POST', 'PUT', 'GET', 'DELETE'];\n    }\n    this.props.onToolsMenuChange(node);\n  };\n\n  handleChange = name => event => {\n    this.setState({ ...name, [name]: event.target.checked });\n  };\n\n  render() {\n    const { node, classes, data, onEditClick } = this.props;\n    node.patchable = !!node.patchable;\n    node.notImplemented = !!node.notImplemented;\n    node.xDescription = node.xDescription || '';\n    node.verbs = node.verbs || ['SEARCH', 'POST', 'PUT', 'GET', 'DELETE'];\n    node.branchColor = node.branchColor || '#FCB900';\n\n    node.verbs = node.verbs.filter(verb => verb !== 'UPDATE'); // Update should not be a verb\n    const nodeHasOperationAncestor = hasOperationAncestor(node, data);\n    const nodeHasAncestorWithPost = hasAncestorWithPost(node, data);\n\n    return (\n      <div className={classes.editContainer}>\n        <div className={classes.fieldContainer}>\n          <div className={classes.hideIconContainer}>\n            <IconButton\n              id=\"editHideButton\"\n              onClick={onEditClick}\n              className={classes.hideEditIcon}\n            >\n              <VisibilityOffIcon />\n            </IconButton>\n          </div>\n          <label className=\"title-menu\">Edit attribute</label>\n\n          <Tooltip\n            title=\"Name of the attribute. Special case: if you specify comma-separated words, they'll serve as a list of possible values for the parent\"\n            placement=\"right\"\n          >\n            <TextField\n              disabled={!node.parent}\n              InputLabelProps={{ shrink: true }}\n              id=\"outlined-email-input\"\n              label=\"Label\"\n              name=\"name\"\n              margin=\"normal\"\n              variant=\"outlined\"\n              onChange={this.onTextFieldChange}\n              onKeyDown={e => {\n                if (e.keyCode === 13) {\n                  this.props.onEnterDown();\n                }\n              }}\n              className=\"item-sidepanel\"\n              value={node.name}\n              inputRef={input => {\n                this.nameInput = input;\n              }}\n            />\n          </Tooltip>\n\n          {node.parent && (\n            <>\n              <Tooltip\n                title=\"A description to help developer who will use the API\"\n                placement=\"right\"\n              >\n                <TextField\n                  multiline\n                  disabled={!node.parent}\n                  InputLabelProps={{ shrink: true }}\n                  id=\"outlined-textarea\"\n                  label=\"Description\"\n                  name=\"description\"\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                  onChange={this.onTextFieldChange}\n                  className=\"item-sidepanel\"\n                  value={node.description}\n                />\n              </Tooltip>\n              <Tooltip\n                title=\"The description that isn't public or included in the specification but only displayed to help API\"\n                placement=\"right\"\n              >\n                <TextField\n                  multiline\n                  disabled={!node.parent}\n                  InputLabelProps={{ shrink: true }}\n                  id=\"outlined-email-input\"\n                  label=\"Example\"\n                  type=\"example\"\n                  name=\"example\"\n                  autoComplete=\"example\"\n                  margin=\"normal\"\n                  variant=\"outlined\"\n                  onChange={this.onTextFieldChange}\n                  className=\"item-sidepanel\"\n                  value={node.example}\n                />\n              </Tooltip>\n              <FormControl\n                disabled={!node.parent}\n                variant=\"outlined\"\n                margin=\"normal\"\n              >\n                <InputLabel\n                  ref={ref => {\n                    this.InputLabelRef = ref;\n                  }}\n                  htmlFor=\"type-select\"\n                >\n                  Type\n                </InputLabel>\n                <Select\n                  className=\"dropdown\"\n                  native\n                  value={node.type}\n                  onChange={this.onNodeTypeChange}\n                  input={\n                    <OutlinedInput\n                      name=\"type\"\n                      labelWidth={35}\n                      id=\"type-select\"\n                    />\n                  }\n                >\n                  <option value=\"integer\">integer</option>\n                  <option value=\"number\">number</option>\n                  <option value=\"string\">text</option>\n                  <option value=\"boolean\">boolean</option>\n                  <option value=\"array\">list</option>\n                  <option value=\"object\">object</option>\n                  <option value=\"operation\">operation</option>\n                  <option value=\"reference\">reference to...</option>\n                </Select>\n              </FormControl>\n              {node.type === 'reference' && (\n                <Paper className={classes.referencePaper}>\n                  <Typography>Reference</Typography>\n                  <FormControl variant=\"outlined\" margin=\"normal\">\n                    <InputLabel\n                      ref={ref => {\n                        this.InputLabelRef = ref;\n                      }}\n                      htmlFor=\"reference-select\"\n                    >\n                      Model\n                    </InputLabel>\n                    <Select\n                      className=\"dropdown\"\n                      native\n                      value={node.referenceId}\n                      onChange={this.onDropDownChange}\n                      input={\n                        <OutlinedInput\n                          name=\"referenceId\"\n                          labelWidth={45}\n                          id=\"reference-select\"\n                        />\n                      }\n                    >\n                      {this.state.models.map(model => {\n                        return (\n                          <option key={model.id} value={model.id}>{`${\n                            model.name\n                          }${\n                            model.freezeTag !== '0' ? ' (frozen)' : ''\n                          }`}</option>\n                        );\n                      })}\n                    </Select>\n                  </FormControl>\n                  <Tooltip\n                    title=\"Determine if the reference model should be a simple object or an array\"\n                    placement=\"right\"\n                  >\n                    <label>\n                      <Checkbox\n                        color=\"default\"\n                        onChange={this.onCheckBoxChange}\n                        type=\"checkbox\"\n                        name=\"isArray\"\n                        checked={node.isArray}\n                      />\n                      Is Array\n                    </label>\n                  </Tooltip>\n                  <>\n                    <Tooltip\n                      title=\"Define branch color (with children)\"\n                      placement=\"right\"\n                    >\n                      <label\n                        style={{ fontSize: '14px', 'padding-bottom': '10px' }}\n                      >\n                        Color Branch\n                      </label>\n                    </Tooltip>\n                    <TwitterPicker\n                      color={node.branchColor}\n                      triangle=\"hide\"\n                      width=\"auto\"\n                      onChangeComplete={this.onBranchColorChange}\n                      style={{ 'padding-bottom': '20px', margin: 'auto' }}\n                    />\n                  </>\n                </Paper>\n              )}\n              {node.type !== 'reference' && node.type !== 'operation' && !nodeHasOperationAncestor && (\n                <Tooltip\n                  title=\"make this field searchable (include it in query params for searchs with GET /objects?field=...)\"\n                  placement=\"right\"\n                >\n                  <label>\n                    <Checkbox\n                      disabled={!node.parent}\n                      color=\"default\"\n                      onChange={this.onCheckBoxChange}\n                      type=\"checkbox\"\n                      name=\"queryable\"\n                      checked={node.queryable}\n                    />\n                    Searchable\n                  </label>\n                </Tooltip>\n              )}\n              {node.type !== 'operation' && !nodeHasOperationAncestor && (\n                <Tooltip\n                  title=\"make this field appear in search results (reponse to GET /objects)\"\n                  placement=\"right\"\n                >\n                  <label>\n                    <Checkbox\n                      disabled={!node.parent}\n                      color=\"default\"\n                      onChange={this.onCheckBoxChange}\n                      type=\"checkbox\"\n                      name=\"abstract\"\n                      checked={node.abstract}\n                    />\n                    In abstract\n                  </label>\n                </Tooltip>\n              )}\n            </>\n          )}\n          {node.type !== 'reference' && (\n            <ExpansionPanel>\n              <ExpansionPanelSummary\n                expandIcon={<ExpandMoreIcon />}\n                aria-controls=\"panel1a-content\"\n                id=\"panel1a-header\"\n              >\n                <Typography className={classes.heading}>\n                  Advanced settings\n                </Typography>\n              </ExpansionPanelSummary>\n              <ExpansionPanelDetails className={classes.ExpansionPanelDetails}>\n                <>\n                  <Tooltip\n                    title=\"Define color branch (with children)\"\n                    placement=\"right\"\n                  >\n                    <label\n                      style={{ fontSize: '14px', 'padding-bottom': '10px' }}\n                    >\n                      Color branch\n                    </label>\n                  </Tooltip>\n                  <TwitterPicker\n                    color={node.branchColor}\n                    triangle=\"hide\"\n                    width=\"auto\"\n                    onChangeComplete={this.onBranchColorChange}\n                    style={{ 'padding-bottom': '20px', margin: 'auto' }}\n                  />\n                </>\n                {node.parent && !nodeHasOperationAncestor && (\n                  <>\n                    <Tooltip\n                      title=\"Make a sub context for this field (will be accessible by GET /objects/thisfield).\"\n                      placement=\"right\"\n                    >\n                      <label>\n                        <Checkbox\n                          disabled={!node.parent}\n                          color=\"default\"\n                          onChange={this.onSubpathCheckboxChange}\n                          type=\"checkbox\"\n                          name=\"isSubPath\"\n                          checked={node.isSubPath}\n                        />\n                        Subpath\n                      </label>\n                    </Tooltip>\n                  </>\n                )}\n                {node.parent && !nodeHasOperationAncestor && !node.isSubPath && (\n                  <>\n                    <Tooltip\n                      title=\"When this box is checked, the attribute will be individually updatable. Otherwise, updates are only possible for all the fields together.\"\n                      placement=\"right\"\n                    >\n                      <label>\n                        <Checkbox\n                          disabled={!node.parent}\n                          color=\"default\"\n                          onChange={this.onCheckBoxChange}\n                          type=\"checkbox\"\n                          name=\"patchable\"\n                          checked={node.patchable}\n                        />\n                        Partial update\n                      </label>\n                    </Tooltip>\n                  </>\n                )}\n                {node.parent && (\n                  <>\n                    <Tooltip\n                      title=\"Fields that are not yet implemented do not appear in the specification result\"\n                      placement=\"right\"\n                    >\n                      <label style={{ fontSize: '14px' }}>\n                        <Checkbox\n                          disabled={!node.parent}\n                          color=\"default\"\n                          onChange={this.onCheckBoxChange}\n                          type=\"checkbox\"\n                          name=\"notImplemented\"\n                          checked={node.notImplemented}\n                        />\n                        Not yet implemented\n                      </label>\n                    </Tooltip>\n                  </>\n                )}\n                {node.parent && node.type !== 'operation' && !node.isSubPath && (\n                  <>\n                    <Tooltip\n                      title=\"This field will be present on request payload (POST body) at creation time if checked\"\n                      placement=\"right\"\n                    >\n                      <label>\n                        <Checkbox\n                          disabled={!node.parent}\n                          color=\"default\"\n                          onChange={this.onInversedCheckBoxChange}\n                          type=\"checkbox\"\n                          name=\"calculated\"\n                          checked={!node.calculated}\n                        />\n                        {nodeHasOperationAncestor\n                          ? 'In Operation Request'\n                          : 'Known on create'}\n                      </label>\n                    </Tooltip>\n                  </>\n                )}\n                {node.type !== 'operation' &&\n                  !node.isSubPath &&\n                  node.parent &&\n                  (nodeHasOperationAncestor || nodeHasAncestorWithPost) && (\n                    <Tooltip\n                      title=\"make the field appear in POST responses\"\n                      placement=\"right\"\n                    >\n                      <label>\n                        <Checkbox\n                          color=\"default\"\n                          onChange={this.onCheckBoxChange}\n                          type=\"checkbox\"\n                          name=\"isInPostResponse\"\n                          checked={node.isInPostResponse}\n                        />\n                        {nodeHasOperationAncestor\n                          ? 'In Operation Response'\n                          : 'In Create Response'}\n                      </label>\n                    </Tooltip>\n                  )}\n                {node.type !== 'reference' && !nodeHasOperationAncestor && (\n                  <>\n                    <Tooltip\n                      title=\"make the results paginated (adds the query parameters page & pageSize)\"\n                      placement=\"right\"\n                    >\n                      <label>\n                        <Checkbox\n                          disabled={\n                            ((!node.isSubPath || node.type !== 'array') &&\n                              !!node.parent) ||\n                            false\n                          }\n                          color=\"default\"\n                          onChange={this.onCheckBoxChange}\n                          type=\"checkbox\"\n                          name=\"paginable\"\n                          checked={node.paginable}\n                        />\n                        Pagination\n                      </label>\n                    </Tooltip>\n\n                    <Tooltip\n                      title=\"Optionally define here additionals query params, comma-separated. Those terms come in addition to the ones that are 'searchable'\"\n                      placement=\"right\"\n                    >\n                      <TextField\n                        disabled={\n                          ((!node.isSubPath || node.type !== 'array') &&\n                            !!node.parent) ||\n                          false\n                        }\n                        label=\"Query Params\"\n                        type=\"queryParams\"\n                        name=\"queryParams\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={this.onTextFieldChange}\n                        className=\"item-sidepanel\"\n                        value={node.queryParams || ''}\n                      />\n                    </Tooltip>\n                    <Tooltip\n                      title=\"An optional, internal explanation for those who have to implement this API. For instance the database where to find the data for this attribute. (Not included in the public specification)\"\n                      placement=\"right\"\n                    >\n                      <TextField\n                        multiline\n                        disabled={!node.parent}\n                        InputLabelProps={{ shrink: true }}\n                        id=\"outlined-textarea\"\n                        label=\"Internal Description\"\n                        name=\"xDescription\"\n                        margin=\"normal\"\n                        variant=\"outlined\"\n                        onChange={this.onTextFieldChange}\n                        className=\"item-sidepanel\"\n                        value={node.xDescription}\n                      />\n                    </Tooltip>\n                  </>\n                )}\n                {(node.isSubPath || !node.parent) && (\n                  <FormControl\n                    component=\"fieldset\"\n                    className={classes.formControl}\n                  >\n                    <FormLabel className={classes.formLabel} component=\"legend\">\n                      Operations\n                    </FormLabel>\n                    <FormGroup>\n                      {(!node.parent || node.type === 'array') && (\n                        <CustomizedCheckbox\n                          customcolor=\"#61affe\"\n                          label=\"SEARCH\"\n                          name=\"SEARCH\"\n                          type=\"checkbox\"\n                          checked={node.verbs.includes('SEARCH')}\n                          onChange={this.onVerbButtonClick}\n                        />\n                      )}\n                      {(!node.parent || node.type === 'array') && (\n                        <CustomizedCheckbox\n                          customcolor=\"#49cc90\"\n                          label=\"CREATE\"\n                          name=\"POST\"\n                          type=\"checkbox\"\n                          checked={node.verbs.includes('POST')}\n                          onChange={this.onVerbButtonClick}\n                        />\n                      )}\n                      <CustomizedCheckbox\n                        customcolor=\"#61affe\"\n                        label=\"READ\"\n                        name=\"GET\"\n                        type=\"checkbox\"\n                        checked={node.verbs.includes('GET')}\n                        onChange={this.onVerbButtonClick}\n                      />\n                      <CustomizedCheckbox\n                        customcolor=\"#fca130\"\n                        label=\"UPDATE\"\n                        name=\"PUT\"\n                        type=\"checkbox\"\n                        checked={node.verbs.includes('PUT')}\n                        onChange={this.onVerbButtonClick}\n                      />\n                      {(!node.parent || node.type === 'array') && (\n                        <CustomizedCheckbox\n                          customcolor=\"#f93e3e\"\n                          label=\"DELETE\"\n                          name=\"DELETE\"\n                          type=\"checkbox\"\n                          checked={node.verbs.includes('DELETE')}\n                          onChange={this.onVerbButtonClick}\n                        />\n                      )}\n                    </FormGroup>\n                  </FormControl>\n                )}\n              </ExpansionPanelDetails>\n            </ExpansionPanel>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(ToolsMenu);\n","/* eslint-disable consistent-return */\nimport React, { Component } from 'react';\nimport { Notification } from 'element-react';\nimport { withRouter } from 'react-router-dom';\nimport Slide from '@material-ui/core/Slide';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport IconButton from '@material-ui/core/IconButton';\nimport { withStyles } from '@material-ui/core/styles';\nimport ResizePanel from 'react-resize-panel';\nimport { trackPromise } from 'react-promise-tracker';\nimport Tree from '../mindmap/Tree';\nimport { updateTree } from '../../helpers/tree_helper';\nimport EditNodeMenu from '../mindmap/EditNodeMenu';\nimport LivePreview from '../mindmap/LivePreview';\nimport SwaggerAPI from '../../api/SwaggerAPI';\nimport ModelAPI from '../../api/ModelAPI';\nimport styles from '../../styles/MindmapView.css';\nimport { UserContext } from '../../contexts/UserContext';\n\nclass MindmapView extends Component {\n  static contextType = UserContext;\n\n  state = {\n    history: [],\n    saved: true,\n    canBeSaved: false,\n    currentNode: { nodeKey: '' },\n    data: { children: [], name: '' },\n    refinerRules: [],\n    livePreviewSwagger: null,\n    isLivePreviewOpen: true,\n    isEditMenuOpen: true,\n    focus: 'tree',\n    modelId: this.props.location.state\n      ? this.props.location.state.modelId\n      : null,\n    organizationId: this.props.location.state\n      ? this.props.location.state.organizationId\n      : null\n  };\n\n  intervalId = null;\n\n  componentDidMount() {\n    const { location, history } = this.props;\n\n    if (!location.state) {\n      history.push('/dashboard');\n    } else {\n      const { data, modelId, isPublic } = location.state;\n\n      if (!isPublic) {\n        ModelAPI.getModel(modelId).then(model => {\n          this.setState(\n            {\n              data: model.data,\n              refinerRules: model.refinerRules || [],\n              currentNode: { ...model.data },\n              canBeSaved: true\n            },\n            () => {\n              this.saveModel(false);\n              this.requestLivePreview(this.state.data);\n            }\n          );\n        });\n      } else {\n        this.setState(\n          {\n            data,\n            currentNode: { ...data }\n          },\n          () => {\n            this.saveModel(false);\n            this.requestLivePreview(this.state.data);\n          }\n        );\n      }\n\n      this.intervalId = setInterval(() => {\n        if (this.state.canBeSaved) {\n          this.saveModel(false);\n        }\n      }, 10000);\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.intervalId);\n    if (this.state.canBeSaved) {\n      this.saveModel(true);\n    }\n  }\n\n  onNodeSelect = node => {\n    this.setState({\n      currentNode: { ...node }\n    });\n  };\n\n  onTreeUpdate = ({ dataUpdated, currentNode }) => {\n    const { history, data } = this.state;\n    history.push(data);\n    this.setState({ data: dataUpdated, currentNode, history, saved: false });\n    this.requestLivePreview(dataUpdated);\n  };\n\n  setModelLock = isLock => {\n    const { modelId } = this.state;\n    ModelAPI.setModelLock(modelId, isLock).catch(err => {\n      if (err.response.status === 403) {\n        Notification.error({\n          title: 'Error',\n          message:\n            'You can only modify your own models. Please ask your team leader if you need a modification on this model.'\n        });\n      } else {\n        Notification.error({\n          title: 'Error',\n          message: 'Could not lock/unlock. Please log in'\n        });\n      }\n    });\n  };\n\n  saveModel = isExitSave => {\n    // eslint-disable-next-line\n    const { saved, modelId, data } = this.state;\n    const { isPublic } = this.props.location.state;\n\n    if (isPublic) {\n      return;\n    }\n\n    if (saved && !isExitSave) {\n      // Already saved, only maintain the lock\n      return this.setModelLock(true);\n    }\n\n    if (saved && isExitSave) {\n      // Already saved, only remove the lock\n      return this.setModelLock(false);\n    }\n\n    const isLocked = !isExitSave;\n\n    ModelAPI.saveModel(modelId, { data }, isLocked)\n      .then(() => {\n        this.setState({ saved: true });\n      })\n      .catch(err => {\n        if (err.response.status === 403) {\n          Notification.error({\n            title: 'Error',\n            message:\n              'You can only modify your own models. Please ask your team leader if you need a modification on this model.'\n          });\n        } else {\n          Notification.error({\n            title: 'Error',\n            message: 'Could not save. Please log in'\n          });\n        }\n      });\n  };\n\n  onToolsMenuChange = node => {\n    let { currentNode, data } = this.state;\n    const { history } = this.state;\n\n    if (node.verbs) {\n      if (currentNode.verbs.includes(node.verbs[0])) {\n        const newNode = {\n          verbs: currentNode.verbs.filter(verb => verb !== node.verbs[0])\n        };\n        // eslint-disable-next-line no-prototype-builtins\n        if (node.hasOwnProperty('isSubPath')) {\n          newNode.isSubPath = node.isSubPath;\n        }\n        currentNode = { ...currentNode, ...newNode };\n      } else {\n        const newNode = { verbs: currentNode.verbs.concat(node.verbs) };\n        // eslint-disable-next-line no-prototype-builtins\n        if (node.hasOwnProperty('isSubPath')) {\n          newNode.isSubPath = node.isSubPath;\n        }\n        currentNode = { ...currentNode, ...newNode };\n      }\n    } else {\n      currentNode = { ...currentNode, ...node };\n    }\n    data = updateTree(data, currentNode);\n    history.push(data);\n    this.setState({\n      data,\n      history,\n      currentNode,\n      saved: false\n    });\n    this.requestLivePreview(data);\n  };\n\n  onPreviewClick = () => {\n    const { isLivePreviewOpen, data } = this.state;\n    this.setState({\n      isLivePreviewOpen: !isLivePreviewOpen\n    });\n\n    if (!isLivePreviewOpen) {\n      this.requestLivePreview(data);\n    }\n  };\n\n  onEditClick = () => {\n    const { isEditMenuOpen } = this.state;\n    this.setState({\n      isEditMenuOpen: !isEditMenuOpen\n    });\n  };\n\n  onPreviewClose = () => {\n    this.setState({ isLivePreviewOpen: false });\n  };\n\n  onUndo = () => {\n    const { history } = this.state;\n    if (history.length === 0) {\n      return;\n    }\n\n    const data = history.pop();\n    this.setState({ currentNode: data, data, history });\n  };\n\n  setFocus = onFocus => {\n    const { focus } = this.state;\n    if (focus !== onFocus) {\n      this.setState({ focus: onFocus });\n    }\n  };\n\n  requestLivePreview = async data => {\n    const { isLivePreviewOpen, refinerRules } = this.state;\n    const organizationId = this.state.organizationId\n      ? this.state.organizationId\n      : 1;\n    if (isLivePreviewOpen) {\n      // Promise tracker to display a loading spinner\n      trackPromise(\n        SwaggerAPI.requestLivePreview(\n          { data, refinerRules },\n          organizationId\n        ).then(result => {\n          this.setState({ livePreviewSwagger: result });\n        })\n      );\n    }\n  };\n\n  render() {\n    const {\n      currentNode,\n      data,\n      focus,\n      isLivePreviewOpen,\n      isEditMenuOpen,\n      livePreviewSwagger\n    } = this.state;\n    const { classes, location } = this.props;\n    const modelId = location.state ? location.state.modelId : null;\n\n    const preview = (\n      <ResizePanel\n        direction=\"w\"\n        handleClass={classes.customHandle}\n        borderClass={classes.customResizeBorder}\n        style={{\n          position: 'inherit',\n          right: '0',\n          width: '45%',\n          maxWidth: '80%',\n          zIndex: 10\n        }}\n      >\n        <LivePreview\n          swagger={livePreviewSwagger}\n          onPreviewClick={this.onPreviewClick}\n        />\n      </ResizePanel>\n    );\n\n    let treeWidth = '';\n\n    if (isLivePreviewOpen) {\n      treeWidth = isEditMenuOpen ? 'small-tree' : 'left-half-tree';\n    } else {\n      treeWidth = isEditMenuOpen ? 'right-half-tree' : 'full-tree';\n    }\n\n    return data ? (\n      <div className={classes.svgContainer}>\n        <Slide direction=\"right\" in={isEditMenuOpen} mountOnEnter unmountOnExit>\n          <EditNodeMenu\n            organization={this.state.organizationId}\n            modelId={this.state.modelId}\n            node={currentNode}\n            data={data}\n            onToolsMenuChange={this.onToolsMenuChange}\n            onEnterDown={() => this.setFocus('tree')}\n            isFocus={focus === 'menu'}\n            onEditClick={this.onEditClick}\n          />\n        </Slide>\n        <div className={`relative-container ${treeWidth}`}>\n          {this.context.user.organizations ? (\n            <>\n              <Tree\n                {...this.props}\n                animated\n                data={data}\n                modelId={modelId}\n                currentNode={currentNode}\n                isFocus={focus === 'tree'}\n                width={treeWidth}\n                onNodeSelect={this.onNodeSelect}\n                onToolsMenuChange={this.onToolsMenuChange}\n                onTreeUpdate={this.onTreeUpdate}\n                newModel={() => this.handleNewModelWarningOpen()}\n                onLetterDown={() => this.setFocus('menu')}\n                onFocus={() => this.setFocus('tree')}\n                onUndo={this.onUndo}\n              />\n            </>\n          ) : (\n            <>\n              <Tree\n                {...this.props}\n                animated\n                data={data}\n                modelId={modelId}\n                currentNode={currentNode}\n                isFocus={focus === 'tree'}\n                width={treeWidth}\n                onNodeSelect={this.onNodeSelect}\n                onToolsMenuChange={this.onToolsMenuChange}\n                onTreeUpdate={this.onTreeUpdate}\n                newModel={() => this.handleNewModelWarningOpen()}\n                onLetterDown={() => this.setFocus('menu')}\n                onFocus={() => this.setFocus('tree')}\n                onUndo={this.onUndo}\n              />\n            </>\n          )}\n        </div>\n        <Slide\n          direction=\"left\"\n          in={isLivePreviewOpen}\n          mountOnEnter\n          unmountOnExit\n        >\n          {preview}\n        </Slide>\n        {!isLivePreviewOpen && (\n          <IconButton\n            id=\"previewShowButton\"\n            color=\"primary\"\n            onClick={() => this.onPreviewClick()}\n            className={classes.showIcon}\n          >\n            <VisibilityIcon />\n          </IconButton>\n        )}\n        {!isEditMenuOpen && (\n          <IconButton\n            id=\"editShowButton\"\n            color=\"primary\"\n            onClick={() => this.onEditClick()}\n            className={classes.showIconEdit}\n          >\n            <VisibilityIcon />\n          </IconButton>\n        )}\n      </div>\n    ) : null;\n  }\n}\n\nexport default withRouter(withStyles(styles)(MindmapView));\n","import BaseAPI from './BaseAPI';\n\nexport default class ModelAPI extends BaseAPI {\n  static getModelNames(teamId) {\n    const params = teamId ? { params: { teamId } } : {};\n    return this.execute('get', 'users/me/modelsList', params);\n  }\n\n  static getModels(params) {\n    return this.execute('get', `users/me/models`, { params }, true);\n  }\n\n  static getModelSwaggerAsFile(modelId, fileType) {\n    return this.execute('get', `models/${modelId}/swagger?type=${fileType}`);\n  }\n\n  static createModel(teamId, model) {\n    return this.execute('post', `/models/`, {\n      data: { model, teamId }\n    });\n  }\n\n  static getModel(modelId) {\n    return this.execute('get', `/models/${modelId}`);\n  }\n\n  static setModelLock(modelId, isLock) {\n    if (isLock) {\n      return this.execute('put', `/models/${modelId}/lock`);\n    }\n\n    return this.execute('delete', `/models/${modelId}/lock`);\n  }\n\n  static saveModel(modelId, model, isLocked) {\n    return this.execute('put', `/models/${modelId}?isLocked=${isLocked}`, {\n      data: model\n    });\n  }\n\n  static freezeModel(modelId) {\n    return this.execute('post', `/models/${modelId}?action=freeze`);\n  }\n\n  static revertModel(modelId) {\n    return this.execute('post', `/models/${modelId}?action=revert`);\n  }\n\n  static duplicateModel(modelId) {\n    return this.execute('post', `/models/${modelId}?action=duplicate`);\n  }\n\n  static deleteModel(modelId) {\n    return this.execute('delete', `/models/${modelId}`);\n  }\n\n  static renameModel(modelId, name) {\n    return this.execute('patch', `/models/${modelId}`, { data: { name } });\n  }\n\n  static publishToApiManager(modelId) {\n    return this.execute('post', `/models/${modelId}/gravitee`);\n  }\n\n  static changeOrganizationModel(modelId, tags, name, organizationId) {\n    return this.execute('patch', `/models/${modelId}`, {\n      data: { tags, name, organizationId }\n    });\n  }\n\n  static getModelRules(modelId) {\n    return this.execute('get', `/models/${modelId}/refinerRules`);\n  }\n\n  static testModelRule(modelId, rules) {\n    return this.execute(\n      'post',\n      `/models/${modelId}/refinerRules?testOnly=true`,\n      {\n        data: rules\n      }\n    );\n  }\n\n  static createModelRule(modelId, rules) {\n    return this.execute('put', `/models/${modelId}/refinerRules`, {\n      data: rules\n    });\n  }\n\n  static updateModelRule(modelId, ruleId, rule) {\n    return this.execute('put', `/models/${modelId}/refinerRules/${ruleId}`, {\n      data: rule\n    });\n  }\n\n  static deleteModelRule(modelId, ruleId) {\n    return this.execute('delete', `/models/${modelId}/refinerRules/${ruleId}`);\n  }\n}\n","import uniqid from 'uniqid';\n\nexport function searchTreeByKey(key, startnode) {\n  const stack = [startnode];\n  while (stack.length) {\n    const node = stack.pop();\n    if (node.nodeKey === key) return node;\n    stack.push(...node.children);\n  }\n  return stack.pop() || null;\n}\n\nexport function hasAncestorWithPost(node, root) {\n  if (node.type === 'operation') return true;\n  if (node.isSubPath === true) {\n    return node.verbs.includes('POST');\n  }\n  if (!node.parent) return node.verbs.includes('POST');\n\n  const parentNode = searchTreeByKey(node.parent, root);\n  if (!parentNode) return false;\n  return hasAncestorWithPost(parentNode, root);\n}\n\nexport function hasOperationAncestor(node, root) {\n  if (node.type === 'operation') return true;\n  if (node.isSubPath === true) return false;\n  if (!node.parent) return false;\n\n  const parentNode = searchTreeByKey(node.parent, root);\n  if (!parentNode) return false;\n  return hasOperationAncestor(parentNode, root);\n}\n\nexport function isAncestorOf(nodeKey, ofNodeKey, root) {\n  let ofNode = searchTreeByKey(ofNodeKey, root);\n\n  while (ofNode.nodeKey !== nodeKey && ofNode.parent) {\n    ofNode = searchTreeByKey(ofNode.parent, root);\n  }\n\n  return ofNode.nodeKey === nodeKey;\n}\n\nexport function cloneTree(node, parentNodeKey, generateId = true) {\n  return {\n    ...node,\n    nodeKey: generateId ? uniqid() : node.nodeKey,\n    parent: parentNodeKey,\n    children: node.children.map(child => {\n      return cloneTree(child, node.nodeKey, generateId);\n    }),\n  };\n}\n\nexport function addNewChildNode(root, selectedNodeKey, direction) {\n  if (!selectedNodeKey) {\n    return {};\n  }\n  const allData = cloneTree(root, null, false);\n  const nodeWhereToAdd = searchTreeByKey(selectedNodeKey, allData);\n  const newNodeKey = uniqid();\n  const newNode = {\n    name: '',\n    direction: direction || nodeWhereToAdd.direction,\n    parent: nodeWhereToAdd.nodeKey,\n    children: [],\n    nodeKey: newNodeKey,\n    type: 'string',\n    referenceId: '',\n    isArray: false,\n    example: '',\n    abstract: true,\n    description: '',\n    queryable: false,\n    paginable: false,\n    isInPostResponse: false,\n    patchable: false,\n    notImplemented: false,\n    isSubPath: false,\n    verbs: [],\n    calculated: false,\n    queryParams: '',\n    branchColor: nodeWhereToAdd.branchColor,\n  };\n  nodeWhereToAdd.children.push(newNode);\n  switch (nodeWhereToAdd.type) {\n    case 'array':\n      nodeWhereToAdd.type = 'array';\n      break;\n    case 'operation':\n      nodeWhereToAdd.type = 'operation';\n      break;\n    default:\n      nodeWhereToAdd.type = 'object';\n      break;\n  }\n\n  return {\n    data: allData,\n    selectedNodeKey: newNodeKey,\n    node: newNode,\n  };\n}\n\nexport function newTree(swaggerName) {\n  const parentId = uniqid();\n  return {\n    name: swaggerName,\n    direction: 'right',\n    nodeKey: parentId,\n    parent: null,\n    description: '',\n    example: '',\n    type: 'string',\n    referenceId: '',\n    isArray: false,\n    abstract: true,\n    queryable: false,\n    paginable: false,\n    isInPostResponse: false,\n    patchable: false,\n    notImplemented: false,\n    isSubPath: false,\n    calculated: false,\n    queryParams: '',\n    verbs: ['SEARCH', 'POST', 'GET', 'PUT', 'DELETE'],\n    children: [\n      {\n        name: 'id',\n        direction: 'right',\n        description: '',\n        type: 'integer',\n        referenceId: '',\n        isArray: false,\n        abstract: true,\n        queryable: false,\n        paginable: false,\n        patchable: false,\n        notImplemented: false,\n        isInPostResponse: false,\n        isSubPath: false,\n        calculated: true,\n        example: '',\n        parent: parentId,\n        nodeKey: uniqid(),\n        children: [],\n      },\n      {\n        name: 'an attribute',\n        direction: 'right',\n        description: '',\n        type: 'integer',\n        referenceId: '',\n        isArray: false,\n        abstract: true,\n        queryable: false,\n        paginable: false,\n        patchable: false,\n        notImplemented: false,\n        isInPostResponse: false,\n        isSubPath: false,\n        calculated: true,\n        example: '',\n        parent: parentId,\n        nodeKey: uniqid(),\n        children: [],\n      },\n    ],\n  };\n}\n\nfunction updateSubNodes(parentNodeToUpdate, changeFunction) {\n  changeFunction(parentNodeToUpdate);\n\n  if (parentNodeToUpdate.children && parentNodeToUpdate.children.length > 0) {\n    parentNodeToUpdate.children.map(child =>\n      updateSubNodes(child, changeFunction)\n    );\n  }\n}\n\nfunction updateParentNodes(\n  root,\n  childNode,\n  changeFunction,\n  changeFunctionParam\n) {\n  changeFunction(childNode, changeFunctionParam);\n  if (childNode.parent) {\n    const parent = searchTreeByKey(childNode.parent, root);\n\n    if (parent) {\n      updateParentNodes(root, parent, changeFunction, changeFunctionParam);\n    }\n  }\n}\n\nexport function updateTree(root, node) {\n  const data = cloneTree(root, null, false);\n  const nodeToUpdate = searchTreeByKey(node.nodeKey, data);\n  nodeToUpdate.name = node.name;\n  nodeToUpdate.description = node.description;\n  nodeToUpdate.xDescription = node.xDescription;\n  nodeToUpdate.example = node.example;\n  nodeToUpdate.type = node.type;\n  nodeToUpdate.referenceId = node.referenceId;\n  nodeToUpdate.isArray = node.isArray;\n\n  nodeToUpdate.queryable = node.queryable;\n  nodeToUpdate.isSubPath = node.isSubPath;\n  nodeToUpdate.calculated = node.calculated;\n  nodeToUpdate.isInPostResponse = node.isInPostResponse;\n  nodeToUpdate.paginable = node.paginable;\n  nodeToUpdate.patchable = node.patchable;\n\n  nodeToUpdate.queryParams = node.queryParams;\n  nodeToUpdate.verbs = node.verbs;\n  nodeToUpdate.parent = node.parent;\n\n  if (nodeToUpdate.type === 'reference') {\n    nodeToUpdate.children = node.children;\n  }\n\n  if (node.branchColor !== nodeToUpdate.branchColor) {\n    updateSubNodes(nodeToUpdate, tmpNode => {\n      tmpNode.branchColor = node.branchColor; // eslint-disable-line no-param-reassign\n    });\n  }\n\n  if (nodeToUpdate.notImplemented !== node.notImplemented) {\n    if (node.notImplemented) {\n      // Mark all subnodes as not implemented\n      updateSubNodes(nodeToUpdate, tmpNode => {\n        tmpNode.notImplemented = true; // eslint-disable-line no-param-reassign\n      });\n    } else {\n      // Mark all parent nodes as implemented\n      updateParentNodes(data, nodeToUpdate, tmpNode => {\n        tmpNode.notImplemented = false; // eslint-disable-line no-param-reassign\n      });\n    }\n  }\n\n  if (nodeToUpdate.abstract !== node.abstract) {\n    if (node.abstract) {\n      // Add the parent to abstract\n      updateParentNodes(data, nodeToUpdate, tmpNode => {\n        tmpNode.abstract = true; // eslint-disable-line no-param-reassign\n      });\n    } else {\n      // remove only this from abstract\n      nodeToUpdate.abstract = node.abstract; // eslint-disable-line no-param-reassign\n    }\n  }\n\n  return data;\n}\n","import BaseAPI from './BaseAPI';\n\nexport default class SwaggerAPI extends BaseAPI {\n  static getResourcesFromUploaded(data) {\n    return this.execute('post', '/swaggerUpload/resources', {\n      data: { jsonstring: data }\n    });\n  }\n\n  static getModelsFromResources(data) {\n    return this.execute('post', '/swaggerUpload/models', {\n      data\n    });\n  }\n\n  static requestPreview(data) {\n    return this.execute('post', '/swaggerPreviews', { data });\n  }\n\n  static requestLivePreview(data, organizationId) {\n    return this.execute(\n      'post',\n      `/swaggerLivePreviews?organizationId=${organizationId}`,\n      { data }\n    );\n  }\n}\n","/* eslint-disable react/forbid-prop-types */\n/* eslint-disable no-bitwise */\nimport PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\n\nconst propTypes = {\n  x1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  pathProps: PropTypes.object.isRequired,\n};\n\nfunction diagonal(x1, y1, x2, y2, parent) {\n  // is it attached to main node ? the tangent is oblique then\n  if (!parent) {\n    return `M${y1},${x1}\n    C\n    ${y1 + (y2 - y1) / 3},${(x1 + x2) / 2}\n    ${(y1 + y2) / 2},${x2}\n    ${y2},${x2}`;\n  }\n  // otherwise it's horizontal\n  return `M${y1},${x1}\n  C\n  ${(y1 + y2) / 2},${x1}\n  ${(y1 + y2) / 2},${x2}\n  ${y2},${x2}`;\n}\n\nfunction flat(x1, y1, x2, y2) {\n  return `M${y1},${x1}\n    C\n    ${(y1 + y2) / 2},${x1}\n    ${(y1 + y2) / 2},${x2}\n    ${y2},${x2}`;\n}\n\nexport default class Link extends PureComponent {\n  render() {\n    let d = ``;\n    // is it a link between nodes or a link under one node ?\n    if (this.props.source) {\n      d = diagonal(\n        this.props.x1,\n        this.props.y1,\n        this.props.x2,\n        this.props.y2,\n        this.props.source.data.parent\n      );\n    } else {\n      d = flat(this.props.x1, this.props.y1, this.props.x2, this.props.y2);\n    }\n\n    const colorScheme = this.props.colorScheme & 31;\n    const red = 245 + colorScheme / 3;\n    const green = 166 + colorScheme;\n    const blue = 35 + colorScheme;\n    const color = this.props.branchColor || `rgb(${red}, ${green}, ${blue})`;\n    return (\n      <path\n        style={{ stroke: color }}\n        {...this.props.pathProps}\n        {...(this.props.isDottedLine && { 'stroke-dasharray': '5, 5' })}\n        d={d}\n      />\n    );\n  }\n}\n\nLink.propTypes = propTypes;\n","const styles = () => {\n  return {\n    svgContainer: {\n      flexGrow: 3,\n      display: 'flex',\n      flexFlow: 'row nowrap',\n      backgroundColor: '#ececec',\n      height: 'calc(100% - 64.237px)',\n    },\n    treeContainer: {\n      position: 'relative'\n    },\n    previewButton: {\n      marginLeft: '50%',\n      backgroundColor: 'transparent',\n      position: 'fixed'\n    },\n    sideBarContainer: {\n      display: 'contents'\n    },\n    editButton: {\n      backgroundColor: '#324157',\n      borderRadius: '0'\n    },\n    toggleContainer: {},\n    tabButton: {\n      width: 'fit-content',\n      height: '40px'\n    },\n    optionMenu: {\n      width: '250px',\n      backgroundColor: '#e0e0e0',\n      position: 'absolute',\n      zIndex: 0,\n      height: '100%'\n    },\n    headband: {\n      display: 'flex',\n      position: 'absolute',\n      width: '-webkit-fill-available',\n      color: 'whitesmoke',\n      padding: '0.5rem 1rem'\n    },\n    headbandFrozen: {\n      backgroundColor: '#2a8dff',\n    },\n    headbandReadOnly: {\n      backgroundColor: '#f2a436',\n    },\n    exportMenu: {\n      width: '250px',\n      backgroundColor: '#e0e0e0',\n      position: 'absolute',\n      zIndex: 0,\n      height: '100%'\n    },\n    editIcon: {\n      color: 'white'\n    },\n    modalContainer: {\n      backgroundColor: '#e0e0e0',\n      width: 'fit-content',\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      padding: '20px',\n      transform: 'translateY(-50%) translateX(-50%)',\n      borderRadius: '10px',\n      border: 'solid 1px black',\n      textAlign: 'center'\n    },\n    formControl: {\n      minWidth: '120px'\n    },\n    buttonSaveTeam: {\n      margin: '10px'\n    },\n    customHandle: {\n      cursor: 'ew-resize',\n      width: '5px',\n      height: '100px',\n      margin: '0px -5px',\n      background: '#324157',\n      borderRadius: '2px',\n      textAlign: 'center',\n      zIndex: '999',\n      overflow: 'hidden',\n      display: 'flex',\n      alignItems: 'center'\n    },\n    customResizeBorder: {\n      cursor: 'ew-resize',\n      width: '10px',\n      background: 'white',\n      border: '1px solid #80808066',\n      display: 'flex',\n      zIndex: '999',\n      alignItems: 'center',\n      alignContent: 'center',\n      justifyContent: 'center',\n      overflow: 'visible'\n    },\n    customFrozenMindmapZoom: {\n      // width: '115%'\n      height: '94vh'\n    },\n    showIcon: {\n      top: '0',\n      right: '0',\n      position: 'absolute',\n      marginTop: '80px',\n      marginRight: '20px',\n      color: '#2b8dff'\n    },\n    showIconFrozenTree: {\n      top: '0',\n      right: '0',\n      position: 'absolute',\n      marginTop: '6rem',\n      marginRight: '20px',\n      color: '#2b8dff',\n      zIndex: 999\n    },\n    showIconEdit: {\n      top: '0',\n      left: '0',\n      position: 'absolute',\n      marginTop: '80px',\n      marginLeft: '20px',\n      color: '#2b8dff'\n    }\n  };\n};\n\nexport default styles;\n","import React, { useState } from 'react';\nimport { usePromiseTracker } from 'react-promise-tracker';\nimport { withStyles } from '@material-ui/core/styles';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst styles = () => {\n  return {\n    loaderContainer: {\n      width: '-webkit-fill-available',\n      maxWidth: '50%%',\n      height: '100%',\n      display: 'flex',\n      backgroundColor: '#ffffff85',\n      position: 'fixed',\n      zIndex: '10'\n    },\n    swaggerSpinner: {\n      margin: 'auto'\n    }\n  };\n};\n\nconst Spinner = props => {\n  // Can pass { delay: 500 } to avoid flickering on high connection\n  const { promiseInProgress } = usePromiseTracker();\n  const [promise, setPromise] = useState('');\n  const { classes } = props;\n\n  if (promiseInProgress === true) {\n    setTimeout(() => {\n      setPromise(true);\n    }, 0);\n  }\n\n  if (promiseInProgress === false) {\n    setTimeout(() => {\n      setPromise(false);\n    }, 2000);\n  }\n\n  return (\n    promise && (\n      <div className={classes.loaderContainer}>\n        <Loader\n          className={classes.swaggerSpinner}\n          type=\"TailSpin\"\n          color=\"#324157\"\n          height={100}\n          width={100}\n          timeout={60000}\n        />\n      </div>\n    )\n  );\n};\n\nexport default withStyles(styles)(Spinner);\n","const styles = () => {\n  return {\n    spinner: {\n      position: 'absolute',\n      margin: 'auto',\n      width: 'fit-content',\n      height: 'fit-content'\n    },\n    hideIcon: {\n      top: '0',\n      left: '0',\n      position: 'absolute',\n      margin: '20px',\n      color: '#324157'\n    }\n  };\n};\n\nexport default styles;\n","import React, { PureComponent } from 'react';\nimport SwaggerUI from 'swagger-ui-react';\nimport { withStyles } from '@material-ui/core/styles';\nimport 'swagger-ui-react/swagger-ui.css';\nimport VisibilityOffIcon from '@material-ui/icons/VisibilityOff';\nimport IconButton from '@material-ui/core/IconButton';\nimport Spinner from './LoaderIndicator';\nimport styles from '../../styles/LivePreview.css';\n\nclass LivePreview extends PureComponent {\n  render() {\n    const { classes, swagger, id, onPreviewClick } = this.props;\n    return (\n      <div id={id} className=\"right-tree\">\n        {swagger && (\n          <>\n            <Spinner className={classes.spinner} />\n            <IconButton\n              id=\"previewHideButton\"\n              onClick={onPreviewClick}\n              className={classes.hideIcon}\n            >\n              <VisibilityOffIcon />\n            </IconButton>\n\n            <SwaggerUI\n              spec={swagger}\n              docExpansion=\"list\"\n              showExtensions=\"true\"\n            />\n          </>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(LivePreview);\n"],"sourceRoot":""}